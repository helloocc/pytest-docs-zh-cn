
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>API Reference &#8212; pytest documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/pygments_pytest.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/pytest1favi.ico"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Good Integration Practices" href="goodpractices.html" />
    <link rel="prev" title="Logging" href="logging.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  
  
  


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="goodpractices.html" title="Good Integration Practices"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="logging.html" title="Logging"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="contents.html">pytest-5.0</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<p>This page contains the full reference to pytest’s API.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#functions" id="id11">Functions</a></p>
<ul>
<li><p><a class="reference internal" href="#pytest-approx" id="id12">pytest.approx</a></p></li>
<li><p><a class="reference internal" href="#pytest-fail" id="id13">pytest.fail</a></p></li>
<li><p><a class="reference internal" href="#pytest-skip" id="id14">pytest.skip</a></p></li>
<li><p><a class="reference internal" href="#pytest-importorskip" id="id15">pytest.importorskip</a></p></li>
<li><p><a class="reference internal" href="#pytest-xfail" id="id16">pytest.xfail</a></p></li>
<li><p><a class="reference internal" href="#pytest-exit" id="id17">pytest.exit</a></p></li>
<li><p><a class="reference internal" href="#pytest-main" id="id18">pytest.main</a></p></li>
<li><p><a class="reference internal" href="#pytest-param" id="id19">pytest.param</a></p></li>
<li><p><a class="reference internal" href="#pytest-raises" id="id20">pytest.raises</a></p></li>
<li><p><a class="reference internal" href="#pytest-deprecated-call" id="id21">pytest.deprecated_call</a></p></li>
<li><p><a class="reference internal" href="#pytest-register-assert-rewrite" id="id22">pytest.register_assert_rewrite</a></p></li>
<li><p><a class="reference internal" href="#pytest-warns" id="id23">pytest.warns</a></p></li>
<li><p><a class="reference internal" href="#pytest-freeze-includes" id="id24">pytest.freeze_includes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#marks" id="id25">Marks</a></p>
<ul>
<li><p><a class="reference internal" href="#pytest-mark-filterwarnings" id="id26">pytest.mark.filterwarnings</a></p></li>
<li><p><a class="reference internal" href="#pytest-mark-parametrize" id="id27">pytest.mark.parametrize</a></p></li>
<li><p><a class="reference internal" href="#pytest-mark-skip" id="id28">pytest.mark.skip</a></p></li>
<li><p><a class="reference internal" href="#pytest-mark-skipif" id="id29">pytest.mark.skipif</a></p></li>
<li><p><a class="reference internal" href="#pytest-mark-usefixtures" id="id30">pytest.mark.usefixtures</a></p></li>
<li><p><a class="reference internal" href="#pytest-mark-xfail" id="id31">pytest.mark.xfail</a></p></li>
<li><p><a class="reference internal" href="#custom-marks" id="id32">custom marks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fixtures" id="id33">Fixtures</a></p>
<ul>
<li><p><a class="reference internal" href="#pytest-fixture" id="id34">&#64;pytest.fixture</a></p></li>
<li><p><a class="reference internal" href="#config-cache" id="id35">config.cache</a></p></li>
<li><p><a class="reference internal" href="#capsys" id="id36">capsys</a></p></li>
<li><p><a class="reference internal" href="#capsysbinary" id="id37">capsysbinary</a></p></li>
<li><p><a class="reference internal" href="#capfd" id="id38">capfd</a></p></li>
<li><p><a class="reference internal" href="#capfdbinary" id="id39">capfdbinary</a></p></li>
<li><p><a class="reference internal" href="#doctest-namespace" id="id40">doctest_namespace</a></p></li>
<li><p><a class="reference internal" href="#request" id="id41">request</a></p></li>
<li><p><a class="reference internal" href="#pytestconfig" id="id42">pytestconfig</a></p></li>
<li><p><a class="reference internal" href="#record-property" id="id43">record_property</a></p></li>
<li><p><a class="reference internal" href="#record-testsuite-property" id="id44">record_testsuite_property</a></p></li>
<li><p><a class="reference internal" href="#caplog" id="id45">caplog</a></p></li>
<li><p><a class="reference internal" href="#monkeypatch" id="id46">monkeypatch</a></p></li>
<li><p><a class="reference internal" href="#testdir" id="id47">testdir</a></p></li>
<li><p><a class="reference internal" href="#recwarn" id="id48">recwarn</a></p></li>
<li><p><a class="reference internal" href="#tmp-path" id="id49">tmp_path</a></p></li>
<li><p><a class="reference internal" href="#tmp-path-factory" id="id50">tmp_path_factory</a></p></li>
<li><p><a class="reference internal" href="#tmpdir" id="id51">tmpdir</a></p></li>
<li><p><a class="reference internal" href="#tmpdir-factory" id="id52">tmpdir_factory</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#hooks" id="id53">Hooks</a></p>
<ul>
<li><p><a class="reference internal" href="#bootstrapping-hooks" id="id54">Bootstrapping hooks</a></p></li>
<li><p><a class="reference internal" href="#initialization-hooks" id="id55">Initialization hooks</a></p></li>
<li><p><a class="reference internal" href="#test-running-hooks" id="id56">Test running hooks</a></p></li>
<li><p><a class="reference internal" href="#collection-hooks" id="id57">Collection hooks</a></p></li>
<li><p><a class="reference internal" href="#reporting-hooks" id="id58">Reporting hooks</a></p></li>
<li><p><a class="reference internal" href="#debugging-interaction-hooks" id="id59">Debugging/Interaction hooks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#objects" id="id60">Objects</a></p>
<ul>
<li><p><a class="reference internal" href="#callinfo" id="id61">CallInfo</a></p></li>
<li><p><a class="reference internal" href="#class" id="id62">Class</a></p></li>
<li><p><a class="reference internal" href="#collector" id="id63">Collector</a></p></li>
<li><p><a class="reference internal" href="#config" id="id64">Config</a></p></li>
<li><p><a class="reference internal" href="#exceptioninfo" id="id65">ExceptionInfo</a></p></li>
<li><p><a class="reference internal" href="#pytest-exitcode" id="id66">pytest.ExitCode</a></p></li>
<li><p><a class="reference internal" href="#fixturedef" id="id67">FixtureDef</a></p></li>
<li><p><a class="reference internal" href="#fscollector" id="id68">FSCollector</a></p></li>
<li><p><a class="reference internal" href="#function" id="id69">Function</a></p></li>
<li><p><a class="reference internal" href="#item" id="id70">Item</a></p></li>
<li><p><a class="reference internal" href="#markdecorator" id="id71">MarkDecorator</a></p></li>
<li><p><a class="reference internal" href="#markgenerator" id="id72">MarkGenerator</a></p></li>
<li><p><a class="reference internal" href="#mark" id="id73">Mark</a></p></li>
<li><p><a class="reference internal" href="#metafunc" id="id74">Metafunc</a></p></li>
<li><p><a class="reference internal" href="#module" id="id75">Module</a></p></li>
<li><p><a class="reference internal" href="#node" id="id76">Node</a></p></li>
<li><p><a class="reference internal" href="#parser" id="id77">Parser</a></p></li>
<li><p><a class="reference internal" href="#pluginmanager" id="id78">PluginManager</a></p></li>
<li><p><a class="reference internal" href="#pytestpluginmanager" id="id79">PytestPluginManager</a></p></li>
<li><p><a class="reference internal" href="#session" id="id80">Session</a></p></li>
<li><p><a class="reference internal" href="#testreport" id="id81">TestReport</a></p></li>
<li><p><a class="reference internal" href="#result" id="id82">_Result</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#special-variables" id="id83">Special Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#collect-ignore" id="id84">collect_ignore</a></p></li>
<li><p><a class="reference internal" href="#collect-ignore-glob" id="id85">collect_ignore_glob</a></p></li>
<li><p><a class="reference internal" href="#pytest-plugins" id="id86">pytest_plugins</a></p></li>
<li><p><a class="reference internal" href="#pytest-mark" id="id87">pytest_mark</a></p></li>
<li><p><a class="reference internal" href="#pytest-dont-rewrite-module-docstring" id="id88">PYTEST_DONT_REWRITE (module docstring)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#environment-variables" id="id89">Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#pytest-addopts" id="id90">PYTEST_ADDOPTS</a></p></li>
<li><p><a class="reference internal" href="#pytest-debug" id="id91">PYTEST_DEBUG</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id92">PYTEST_PLUGINS</a></p></li>
<li><p><a class="reference internal" href="#pytest-disable-plugin-autoload" id="id93">PYTEST_DISABLE_PLUGIN_AUTOLOAD</a></p></li>
<li><p><a class="reference internal" href="#pytest-current-test" id="id94">PYTEST_CURRENT_TEST</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#exceptions" id="id95">Exceptions</a></p>
<ul>
<li><p><a class="reference internal" href="#usageerror" id="id96">UsageError</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-options" id="id97">Configuration Options</a></p></li>
</ul>
</div>
<div class="section" id="functions">
<h2><a class="toc-backref" href="#id11">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pytest-approx">
<h3><a class="toc-backref" href="#id12">pytest.approx</a><a class="headerlink" href="#pytest-approx" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.python_api.approx">
<code class="sig-name descname">approx</code><span class="sig-paren">(</span><em class="sig-param">expected</em>, <em class="sig-param">rel=None</em>, <em class="sig-param">abs=None</em>, <em class="sig-param">nan_ok=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python_api.html#approx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python_api.approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that two numbers (or two sets of numbers) are equal to each other
within some tolerance.</p>
<p>Due to the <a class="reference external" href="https://docs.python.org/3/tutorial/floatingpoint.html">intricacies of floating-point arithmetic</a>, numbers that we
would intuitively expect to be equal are not always so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">==</span> <span class="mf">0.3</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This problem is commonly encountered when writing tests, e.g. when making
sure that floating-point values are what you expect them to be.  One way to
deal with this problem is to assert that two floating-point numbers are
equal to within some appropriate tolerance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">((</span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.3</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, comparisons like this are tedious to write and difficult to
understand.  Furthermore, absolute comparisons like the one above are
usually discouraged because there’s no tolerance that works well for all
situations.  <code class="docutils literal notranslate"><span class="pre">1e-6</span></code> is good for numbers around <code class="docutils literal notranslate"><span class="pre">1</span></code>, but too small for
very big numbers and too big for very small ones.  It’s better to express
the tolerance as a fraction of the expected value, but relative comparisons
like that are even more difficult to write correctly and concisely.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">approx</span></code> class performs floating-point comparisons using a syntax
that’s as intuitive as possible:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pytest</span> <span class="k">import</span> <span class="n">approx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The same syntax also works for sequences of numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.4</span><span class="p">)</span> <span class="o">==</span> <span class="n">approx</span><span class="p">((</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Dictionary <em>values</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.4</span><span class="p">}</span> <span class="o">==</span> <span class="n">approx</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">})</span>
<span class="go">True</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>                                                          
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">])</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]))</span> 
<span class="go">True</span>
</pre></div>
</div>
<p>And for a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array against a scalar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>                                         
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span> 
<span class="go">True</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">approx</span></code> considers numbers within a relative tolerance of
<code class="docutils literal notranslate"><span class="pre">1e-6</span></code> (i.e. one part in a million) of its expected value to be equal.
This treatment would lead to surprising results if the expected value was
<code class="docutils literal notranslate"><span class="pre">0.0</span></code>, because nothing but <code class="docutils literal notranslate"><span class="pre">0.0</span></code> itself is relatively close to <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.
To handle this case less surprisingly, <code class="docutils literal notranslate"><span class="pre">approx</span></code> also considers numbers
within an absolute tolerance of <code class="docutils literal notranslate"><span class="pre">1e-12</span></code> of its expected value to be
equal.  Infinity and NaN are special cases.  Infinity is only considered
equal to itself, regardless of the relative tolerance.  NaN is not
considered equal to anything by default, but you can make it be equal to
itself by setting the <code class="docutils literal notranslate"><span class="pre">nan_ok</span></code> argument to True.  (This is meant to
facilitate comparing arrays that use NaN to mean “no data”.)</p>
<p>Both the relative and absolute tolerances can be changed by passing
arguments to the <code class="docutils literal notranslate"><span class="pre">approx</span></code> constructor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mf">1.0001</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">1.0001</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">1.0001</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If you specify <code class="docutils literal notranslate"><span class="pre">abs</span></code> but not <code class="docutils literal notranslate"><span class="pre">rel</span></code>, the comparison will not consider
the relative tolerance at all.  In other words, two numbers that are within
the default relative tolerance of <code class="docutils literal notranslate"><span class="pre">1e-6</span></code> will still be considered unequal
if they exceed the specified absolute tolerance.  If you specify both
<code class="docutils literal notranslate"><span class="pre">abs</span></code> and <code class="docutils literal notranslate"><span class="pre">rel</span></code>, the numbers will be considered equal if either
tolerance is met:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1e-8</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1e-8</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1e-8</span> <span class="o">==</span> <span class="n">approx</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">1e-6</span><span class="p">,</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If you’re thinking about using <code class="docutils literal notranslate"><span class="pre">approx</span></code>, then you might want to know how
it compares to other good ways of comparing floating-point numbers.  All of
these algorithms are based on relative and absolute tolerances and should
agree for the most part, but they do have meaningful differences:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">math.isclose(a,</span> <span class="pre">b,</span> <span class="pre">rel_tol=1e-9,</span> <span class="pre">abs_tol=0.0)</span></code>:  True if the relative
tolerance is met w.r.t. either <code class="docutils literal notranslate"><span class="pre">a</span></code> or <code class="docutils literal notranslate"><span class="pre">b</span></code> or if the absolute
tolerance is met.  Because the relative tolerance is calculated w.r.t.
both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>, this test is symmetric (i.e.  neither <code class="docutils literal notranslate"><span class="pre">a</span></code> nor
<code class="docutils literal notranslate"><span class="pre">b</span></code> is a “reference value”).  You have to specify an absolute tolerance
if you want to compare to <code class="docutils literal notranslate"><span class="pre">0.0</span></code> because there is no tolerance by
default.  Only available in python&gt;=3.5.  <a class="reference external" href="https://docs.python.org/3/library/math.html#math.isclose">More information…</a></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">numpy.isclose(a,</span> <span class="pre">b,</span> <span class="pre">rtol=1e-5,</span> <span class="pre">atol=1e-8)</span></code>: True if the difference
between <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> is less that the sum of the relative tolerance
w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code> and the absolute tolerance.  Because the relative tolerance
is only calculated w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code>, this test is asymmetric and you can
think of <code class="docutils literal notranslate"><span class="pre">b</span></code> as the reference value.  Support for comparing sequences
is provided by <code class="docutils literal notranslate"><span class="pre">numpy.allclose</span></code>.  <a class="reference external" href="http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.isclose.html">More information…</a></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">unittest.TestCase.assertAlmostEqual(a,</span> <span class="pre">b)</span></code>: True if <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>
are within an absolute tolerance of <code class="docutils literal notranslate"><span class="pre">1e-7</span></code>.  No relative tolerance is
considered and the absolute tolerance cannot be changed, so this function
is not appropriate for very large or very small numbers.  Also, it’s only
available in subclasses of <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code> and it’s ugly because it
doesn’t follow PEP8.  <a class="reference external" href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual">More information…</a></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">pytest.approx(b,</span> <span class="pre">rel=1e-6,</span> <span class="pre">abs=1e-12)</span></code>: True if the relative
tolerance is met w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code> or if the absolute tolerance is met.
Because the relative tolerance is only calculated w.r.t. <code class="docutils literal notranslate"><span class="pre">b</span></code>, this test
is asymmetric and you can think of <code class="docutils literal notranslate"><span class="pre">b</span></code> as the reference value.  In the
special case that you explicitly specify an absolute tolerance but not a
relative tolerance, only the absolute tolerance is considered.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2.</span></p>
</div>
<p>In order to avoid inconsistent behavior, <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> is
raised for <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> comparisons.
The example below illustrates the problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">1e-10</span>  <span class="c1"># calls approx(0.1).__gt__(0.1 + 1e-10)</span>
<span class="k">assert</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">1e-10</span> <span class="o">&gt;</span> <span class="n">approx</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># calls approx(0.1).__lt__(0.1 + 1e-10)</span>
</pre></div>
</div>
<p>In the second example one expects <code class="docutils literal notranslate"><span class="pre">approx(0.1).__le__(0.1</span> <span class="pre">+</span> <span class="pre">1e-10)</span></code>
to be called. But instead, <code class="docutils literal notranslate"><span class="pre">approx(0.1).__lt__(0.1</span> <span class="pre">+</span> <span class="pre">1e-10)</span></code> is used to
comparison. This is because the call hierarchy of rich comparisons
follows a fixed behavior. <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__ge__">More information…</a></p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-fail">
<h3><a class="toc-backref" href="#id13">pytest.fail</a><a class="headerlink" href="#pytest-fail" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#skipping"><span class="std std-ref">Skip and xfail: dealing with tests that cannot succeed</span></a></p>
<dl class="function">
<dt id="_pytest.outcomes.fail">
<code class="sig-name descname">fail</code><span class="sig-paren">(</span><em class="sig-param">msg=''</em>, <em class="sig-param">pytrace=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#fail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly fail an executing test with the given message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the message to show the user as reason for the failure.</p></li>
<li><p><strong>pytrace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if false the msg represents the full failure information and no
python traceback will be reported.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-skip">
<h3><a class="toc-backref" href="#id14">pytest.skip</a><a class="headerlink" href="#pytest-skip" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.skip">
<code class="sig-name descname">skip</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="optional">[</span>, <em class="sig-param">allow_module_level=False</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#skip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip an executing test with the given message.</p>
<p>This function should be called only during testing (setup, call or teardown) or
during collection by using the <code class="docutils literal notranslate"><span class="pre">allow_module_level</span></code> flag.  This function can
be called in doctests as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allow_module_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – allows this function to be called at
module level, skipping the rest of the module. Default to False.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is better to use the <a class="reference internal" href="#pytest-mark-skipif-ref"><span class="std std-ref">pytest.mark.skipif</span></a> marker when possible to declare a test to be
skipped under certain conditions like mismatching platforms or
dependencies.
Similarly, use the <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">doctest:</span> <span class="pre">+SKIP</span></code> directive (see <a class="reference external" href="https://docs.python.org/3/library/doctest.html#doctest.SKIP">doctest.SKIP</a>)
to skip a doctest statically.</p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-importorskip">
<h3><a class="toc-backref" href="#id15">pytest.importorskip</a><a class="headerlink" href="#pytest-importorskip" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.importorskip">
<code class="sig-name descname">importorskip</code><span class="sig-paren">(</span><em class="sig-param">modname</em>, <em class="sig-param">minversion=None</em>, <em class="sig-param">reason=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#importorskip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.importorskip" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports and returns the requested module <code class="docutils literal notranslate"><span class="pre">modname</span></code>, or skip the current test
if the module cannot be imported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the name of the module to import</p></li>
<li><p><strong>minversion</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – if given, the imported module <code class="docutils literal notranslate"><span class="pre">__version__</span></code> attribute must be
at least this minimal version, otherwise the test is still skipped.</p></li>
<li><p><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – if given, this reason is shown as the message when the module
cannot be imported.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-xfail">
<h3><a class="toc-backref" href="#id16">pytest.xfail</a><a class="headerlink" href="#pytest-xfail" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.xfail">
<code class="sig-name descname">xfail</code><span class="sig-paren">(</span><em class="sig-param">reason=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#xfail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.xfail" title="Permalink to this definition">¶</a></dt>
<dd><p>Imperatively xfail an executing test or setup functions with the given reason.</p>
<p>This function should be called only during testing (setup, call or teardown).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is better to use the <a class="reference internal" href="#pytest-mark-xfail-ref"><span class="std std-ref">pytest.mark.xfail</span></a> marker when possible to declare a test to be
xfailed under certain conditions like known bugs or missing features.</p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-exit">
<h3><a class="toc-backref" href="#id17">pytest.exit</a><a class="headerlink" href="#pytest-exit" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.outcomes.exit">
<code class="sig-name descname">exit</code><span class="sig-paren">(</span><em class="sig-param">msg</em>, <em class="sig-param">returncode=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/outcomes.html#exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.outcomes.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit testing process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – message to display upon exit.</p></li>
<li><p><strong>returncode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – return code to be used when exiting pytest.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-main">
<h3><a class="toc-backref" href="#id18">pytest.main</a><a class="headerlink" href="#pytest-main" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.config.main">
<code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">args=None</em>, <em class="sig-param">plugins=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.main" title="Permalink to this definition">¶</a></dt>
<dd><p>return exit code, after performing an in-process test run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – list of command line arguments.</p></li>
<li><p><strong>plugins</strong> – list of plugin objects to be auto-registered during
initialization.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-param">
<h3><a class="toc-backref" href="#id19">pytest.param</a><a class="headerlink" href="#pytest-param" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pytest.param">
<code class="sig-name descname">param</code><span class="sig-paren">(</span><em class="sig-param">*values</em><span class="optional">[</span>, <em class="sig-param">id</em><span class="optional">]</span><span class="optional">[</span>, <em class="sig-param">marks</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark.html#param"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.param" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a parameter in <a class="reference internal" href="#pytest-mark-parametrize">pytest.mark.parametrize</a> calls or
<a class="reference internal" href="fixture.html#fixture-parametrize-marks"><span class="std std-ref">parametrized fixtures</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&quot;test_input,expected&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;3+5&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">param</span><span class="p">(</span><span class="s2">&quot;6*9&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">xfail</span><span class="p">),</span>
<span class="p">])</span>
<span class="k">def</span> <span class="nf">test_eval</span><span class="p">(</span><span class="n">test_input</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">eval</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – variable args of the values of the parameter set, in order.</p></li>
<li><p><strong>marks</strong> – a single mark or a list of marks to be applied to this parameter set.</p></li>
<li><p><strong>id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the id to attribute to this parameter set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-raises">
<h3><a class="toc-backref" href="#id20">pytest.raises</a><a class="headerlink" href="#pytest-raises" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="assert.html#assertraises"><span class="std std-ref">Assertions about expected exceptions</span></a>.</p>
<dl class="function">
<dt id="pytest.raises">
<em class="property">with </em><code class="sig-name descname">raises</code><span class="sig-paren">(</span><em class="sig-param">expected_exception: Exception</em><span class="optional">[</span>, <em class="sig-param">match</em><span class="optional">]</span><span class="optional">[</span>, <em class="sig-param">message</em><span class="optional">]</span><span class="sig-paren">)</span><em class="property"> as excinfo</em><a class="reference internal" href="_modules/_pytest/python_api.html#raises"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.raises" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that a code block/function call raises <code class="docutils literal notranslate"><span class="pre">expected_exception</span></code>
or raise a failure exception otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>match</strong> – if specified, a string containing a regular expression,
or a regular expression object, that is tested against the string
representation of the exception using <code class="docutils literal notranslate"><span class="pre">re.search</span></code>. To match a literal
string that may contain <a class="reference external" href="https://docs.python.org/3/library/re.html#regular-expression-syntax">special characters</a>, the pattern can
first be escaped with <code class="docutils literal notranslate"><span class="pre">re.escape</span></code>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>message</strong> – <strong>(deprecated since 4.1)</strong> if specified, provides a custom failure message
if the exception is not raised. See <a class="reference internal" href="deprecations.html#raises-message-deprecated"><span class="std std-ref">the deprecation docs</span></a> for a workaround.</p>
</dd>
</dl>
<p>Use <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> as a context manager, which will capture the exception of the given
type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">):</span>
<span class="gp">... </span>   <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</pre></div>
</div>
<p>If the code block does not raise the expected exception (<code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> in the example
above), or no exception at all, the check will fail instead.</p>
<p>You can also use the keyword argument <code class="docutils literal notranslate"><span class="pre">match</span></code> to assert that the
exception matches a text or regex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;must be 0 or None&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be 0 or None&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;must be \d+$&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be 42&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The context manager produces an <a class="reference internal" href="#_pytest._code.ExceptionInfo" title="_pytest._code.ExceptionInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExceptionInfo</span></code></a> object which can be used to inspect the
details of the captured exception:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be 42&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ne">ValueError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;value must be 42&quot;</span>
</pre></div>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 4.1: </span>In the context manager form you may use the keyword argument
<code class="docutils literal notranslate"><span class="pre">message</span></code> to specify a custom failure message that will be displayed
in case the <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> check fails. This has been deprecated as it
is considered error prone as users often mean to use <code class="docutils literal notranslate"><span class="pre">match</span></code> instead.
See <a class="reference internal" href="deprecations.html#raises-message-deprecated"><span class="std std-ref">the deprecation docs</span></a> for a workaround.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> as a context manager, it’s worthwhile to
note that normal context manager rules apply and that the exception
raised <em>must</em> be the final line in the scope of the context manager.
Lines of code after that, within the scope of the context manager will
not be executed. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be &lt;= 10&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ne">ValueError</span>  <span class="c1"># this will not execute</span>
</pre></div>
</div>
<p>Instead, the following approach must be taken (note the difference in
scope):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;value must be &lt;= 10&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">type</span> <span class="ow">is</span> <span class="ne">ValueError</span>
</pre></div>
</div>
</div>
<p><strong>Using with</strong> <code class="docutils literal notranslate"><span class="pre">pytest.mark.parametrize</span></code></p>
<p>When using <a class="reference internal" href="#pytest-mark-parametrize-ref"><span class="std std-ref">pytest.mark.parametrize</span></a>
it is possible to parametrize tests such that
some runs raise an exception and others do not.</p>
<p>See <a class="reference internal" href="example/parametrize.html#parametrizing-conditional-raising"><span class="std std-ref">Parametrizing conditional raising</span></a> for an example.</p>
<p><strong>Legacy form</strong></p>
<p>It is possible to specify a callable by passing a to-be-called lambda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
</pre></div>
</div>
<p>or you can specify an arbitrary callable with arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;ExceptionInfo ...&gt;</span>
</pre></div>
</div>
<p>The form above is fully supported but discouraged for new code because the
context manager form is regarded as more readable and less error-prone.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Similar to caught exception objects in Python, explicitly clearing
local references to returned <code class="docutils literal notranslate"><span class="pre">ExceptionInfo</span></code> objects can
help the Python interpreter speed up its garbage collection.</p>
<p>Clearing those references breaks a reference cycle
(<code class="docutils literal notranslate"><span class="pre">ExceptionInfo</span></code> –&gt; caught exception –&gt; frame stack raising
the exception –&gt; current frame stack –&gt; local variables –&gt;
<code class="docutils literal notranslate"><span class="pre">ExceptionInfo</span></code>) which makes Python keep all objects referenced
from that cycle (including all local variables in the current
frame) alive until the next cyclic garbage collection run. See the
official Python <code class="docutils literal notranslate"><span class="pre">try</span></code> statement documentation for more detailed
information.</p>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-deprecated-call">
<h3><a class="toc-backref" href="#id21">pytest.deprecated_call</a><a class="headerlink" href="#pytest-deprecated-call" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#ensuring-function-triggers"><span class="std std-ref">Ensuring code triggers a deprecation warning</span></a>.</p>
<dl class="function">
<dt id="pytest.deprecated_call">
<em class="property">with </em><code class="sig-name descname">deprecated_call</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#deprecated_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.deprecated_call" title="Permalink to this definition">¶</a></dt>
<dd><p>context manager that can be used to ensure a block of code triggers a
<code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> or <code class="docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">api_call_v2</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;use v3 of this api&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">200</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">deprecated_call</span><span class="p">():</span>
<span class="gp">... </span>   <span class="k">assert</span> <span class="n">api_call_v2</span><span class="p">()</span> <span class="o">==</span> <span class="mi">200</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">deprecated_call</span></code> can also be used by passing a function and <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">*kwargs</span></code>,
in which case it will ensure calling <code class="docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code> produces one of the warnings
types above.</p>
</dd></dl>

</div>
<div class="section" id="pytest-register-assert-rewrite">
<h3><a class="toc-backref" href="#id22">pytest.register_assert_rewrite</a><a class="headerlink" href="#pytest-register-assert-rewrite" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="writing_plugins.html#assertion-rewriting"><span class="std std-ref">Assertion Rewriting</span></a>.</p>
<dl class="function">
<dt id="pytest.register_assert_rewrite">
<code class="sig-name descname">register_assert_rewrite</code><span class="sig-paren">(</span><em class="sig-param">*names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/assertion.html#register_assert_rewrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.register_assert_rewrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Register one or more module names to be rewritten on import.</p>
<p>This function will make sure that this module or all modules inside
the package will get their assert statements rewritten.
Thus you should make sure to call this before the module is
actually imported, usually in your __init__.py if you are a plugin
using a package.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – if the given module names are not strings.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-warns">
<h3><a class="toc-backref" href="#id23">pytest.warns</a><a class="headerlink" href="#pytest-warns" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#assertwarnings"><span class="std std-ref">Asserting warnings with the warns function</span></a></p>
<dl class="function">
<dt id="pytest.warns">
<em class="property">with </em><code class="sig-name descname">warns</code><span class="sig-paren">(</span><em class="sig-param">expected_warning: Exception</em><span class="optional">[</span>, <em class="sig-param">match</em><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#warns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.warns" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that code raises a particular class of warning.</p>
<p>Specifically, the parameter <code class="docutils literal notranslate"><span class="pre">expected_warning</span></code> can be a warning class or
sequence of warning classes, and the inside the <code class="docutils literal notranslate"><span class="pre">with</span></code> block must issue a warning of that class or
classes.</p>
<p>This helper produces a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">warnings.WarningMessage</span></code> objects,
one for each warning raised.</p>
<p>This function can be used as a context manager, or any of the other ways
<code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;my warning&quot;</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
</pre></div>
</div>
<p>In the context manager form you may use the keyword argument <code class="docutils literal notranslate"><span class="pre">match</span></code> to assert
that the exception matches a text or regex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;must be 0 or None&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;value must be 0 or None&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;must be \d+$&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;value must be 42&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warns</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;must be \d+$&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;this is not here&quot;</span><span class="p">,</span> <span class="ne">UserWarning</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">Failed</span>: <span class="n">DID NOT WARN. No warnings of type ...UserWarning... was emitted...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="pytest-freeze-includes">
<h3><a class="toc-backref" href="#id24">pytest.freeze_includes</a><a class="headerlink" href="#pytest-freeze-includes" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/simple.html#freezing-pytest"><span class="std std-ref">Freezing pytest</span></a>.</p>
<dl class="function">
<dt id="pytest.freeze_includes">
<code class="sig-name descname">freeze_includes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/freeze_support.html#freeze_includes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.freeze_includes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of module names used by pytest that should be
included by cx_freeze.</p>
</dd></dl>

</div>
</div>
<div class="section" id="marks">
<span id="marks-ref"></span><h2><a class="toc-backref" href="#id25">Marks</a><a class="headerlink" href="#marks" title="Permalink to this headline">¶</a></h2>
<p>Marks can be used apply meta data to <em>test functions</em> (but not fixtures), which can then be accessed by
fixtures or plugins.</p>
<div class="section" id="pytest-mark-filterwarnings">
<span id="pytest-mark-filterwarnings-ref"></span><h3><a class="toc-backref" href="#id26">pytest.mark.filterwarnings</a><a class="headerlink" href="#pytest-mark-filterwarnings" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#filterwarnings"><span class="std std-ref">&#64;pytest.mark.filterwarnings</span></a>.</p>
<p>Add warning filters to marked test items.</p>
<dl class="function">
<dt id="pytest.mark.filterwarnings">
<code class="sig-prename descclassname">pytest.mark.</code><code class="sig-name descname">filterwarnings</code><span class="sig-paren">(</span><em class="sig-param">filter</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.filterwarnings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>A <em>warning specification string</em>, which is composed of contents of the tuple <code class="docutils literal notranslate"><span class="pre">(action,</span> <span class="pre">message,</span> <span class="pre">category,</span> <span class="pre">module,</span> <span class="pre">lineno)</span></code>
as specified in <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warning-filter">The Warnings filter</a> section of
the Python documentation, separated by <code class="docutils literal notranslate"><span class="pre">&quot;:&quot;</span></code>. Optional fields can be omitted.
Module names passed for filtering are not regex-escaped.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest.mark.warnings</span><span class="p">(</span><span class="s2">&quot;ignore:.*usage will be deprecated.*:DeprecationWarning&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-mark-parametrize">
<span id="pytest-mark-parametrize-ref"></span><h3><a class="toc-backref" href="#id27">pytest.mark.parametrize</a><a class="headerlink" href="#pytest-mark-parametrize" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="parametrize.html"><span class="doc">Parametrizing fixtures and test functions</span></a>.</p>
<dl class="method">
<dt id="_pytest.python.Metafunc.parametrize">
<code class="sig-prename descclassname">Metafunc.</code><code class="sig-name descname">parametrize</code><span class="sig-paren">(</span><em class="sig-param">argnames</em>, <em class="sig-param">argvalues</em>, <em class="sig-param">indirect=False</em>, <em class="sig-param">ids=None</em>, <em class="sig-param">scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc.parametrize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Metafunc.parametrize" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new invocations to the underlying test function using the list
of argvalues for the given argnames.  Parametrization is performed
during the collection phase.  If you need to setup expensive resources
see about setting indirect to do it rather at test setup time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argnames</strong> – a comma-separated string denoting one or more argument
names, or a list/tuple of argument strings.</p></li>
<li><p><strong>argvalues</strong> – The list of argvalues determines how often a
test is invoked with different argument values.  If only one
argname was specified argvalues is a list of values.  If N
argnames were specified, argvalues must be a list of N-tuples,
where each tuple-element specifies a value for its respective
argname.</p></li>
<li><p><strong>indirect</strong> – The list of argnames or boolean. A list of arguments’
names (subset of argnames). If True the list contains all names from
the argnames. Each argvalue corresponding to an argname in this list will
be passed as request.param to its respective argname fixture
function so that it can perform more expensive setups during the
setup phase of a test rather than at collection time.</p></li>
<li><p><strong>ids</strong> – list of string ids, or a callable.
If strings, each is corresponding to the argvalues so that they are
part of the test id. If None is given as id of specific test, the
automatically generated id for that argument will be used.
If callable, it should take one argument (a single argvalue) and return
a string or return None. If None, the automatically generated id for that
argument will be used.
If no ids are provided they will be generated automatically from
the argvalues.</p></li>
<li><p><strong>scope</strong> – if specified it denotes the scope of the parameters.
The scope is used for grouping tests by parameter instances.
It will also override any fixture-function defined scope, allowing
to set a dynamic scope using test context or configuration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-mark-skip">
<span id="pytest-mark-skip-ref"></span><h3><a class="toc-backref" href="#id28">pytest.mark.skip</a><a class="headerlink" href="#pytest-mark-skip" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#skip"><span class="std std-ref">Skipping test functions</span></a>.</p>
<p>Unconditionally skip a test function.</p>
<dl class="function">
<dt id="pytest.mark.skip">
<code class="sig-prename descclassname">pytest.mark.</code><code class="sig-name descname">skip</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">reason=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.skip" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Reason why the test function is being skipped.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-mark-skipif">
<span id="pytest-mark-skipif-ref"></span><h3><a class="toc-backref" href="#id29">pytest.mark.skipif</a><a class="headerlink" href="#pytest-mark-skipif" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#skipif"><span class="std std-ref">Skipping test functions</span></a>.</p>
<p>Skip a test function if a condition is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="function">
<dt id="pytest.mark.skipif">
<code class="sig-prename descclassname">pytest.mark.</code><code class="sig-name descname">skipif</code><span class="sig-paren">(</span><em class="sig-param">condition</em>, <em class="sig-param">*</em>, <em class="sig-param">reason=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.skipif" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <code class="docutils literal notranslate"><span class="pre">True/False</span></code> if the condition should be skipped or a <a class="reference internal" href="historical-notes.html#string-conditions"><span class="std std-ref">condition string</span></a>.</p></li>
<li><p><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Reason why the test function is being skipped.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-mark-usefixtures">
<span id="pytest-mark-usefixtures-ref"></span><h3><a class="toc-backref" href="#id30">pytest.mark.usefixtures</a><a class="headerlink" href="#pytest-mark-usefixtures" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="fixture.html#usefixtures"><span class="std std-ref">Using fixtures from classes, modules or projects</span></a>.</p>
<p>Mark a test function as using the given fixture names.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This mark has no effect when applied
to a <strong>fixture</strong> function.</p>
</div>
<dl class="function">
<dt id="pytest.mark.usefixtures">
<code class="sig-prename descclassname">pytest.mark.</code><code class="sig-name descname">usefixtures</code><span class="sig-paren">(</span><em class="sig-param">*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.usefixtures" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – the names of the fixture to use, as strings</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pytest-mark-xfail">
<span id="pytest-mark-xfail-ref"></span><h3><a class="toc-backref" href="#id31">pytest.mark.xfail</a><a class="headerlink" href="#pytest-mark-xfail" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="skipping.html#xfail"><span class="std std-ref">XFail: mark test functions as expected to fail</span></a>.</p>
<p>Marks a test function as <em>expected to fail</em>.</p>
<dl class="function">
<dt id="pytest.mark.xfail">
<code class="sig-prename descclassname">pytest.mark.</code><code class="sig-name descname">xfail</code><span class="sig-paren">(</span><em class="sig-param">condition=None</em>, <em class="sig-param">*</em>, <em class="sig-param">reason=None</em>, <em class="sig-param">raises=None</em>, <em class="sig-param">run=True</em>, <em class="sig-param">strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pytest.mark.xfail" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>condition</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Condition for marking the test function as xfail (<code class="docutils literal notranslate"><span class="pre">True/False</span></code> or a
<a class="reference internal" href="historical-notes.html#string-conditions"><span class="std std-ref">condition string</span></a>).</p></li>
<li><p><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Reason why the test function is marked as xfail.</p></li>
<li><p><strong>raises</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.7)"><em>Exception</em></a>) – Exception subclass expected to be raised by the test function; other exceptions will fail the test.</p></li>
<li><p><strong>run</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If the test function should actually be executed. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, the function will always xfail and will
not be executed (useful if a function is segfaulting).</p></li>
<li><p><strong>strict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – <ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default) the function will be shown in the terminal output as <code class="docutils literal notranslate"><span class="pre">xfailed</span></code> if it fails
and as <code class="docutils literal notranslate"><span class="pre">xpass</span></code> if it passes. In both cases this will not cause the test suite to fail as a whole. This
is particularly useful to mark <em>flaky</em> tests (tests that fail at random) to be tackled later.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function will be shown in the terminal output as <code class="docutils literal notranslate"><span class="pre">xfailed</span></code> if it fails, but if it
unexpectedly passes then it will <strong>fail</strong> the test suite. This is particularly useful to mark functions
that are always failing and there should be a clear indication if they unexpectedly start to pass (for example
a new release of a library fixes a known bug).</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="custom-marks">
<h3><a class="toc-backref" href="#id32">custom marks</a><a class="headerlink" href="#custom-marks" title="Permalink to this headline">¶</a></h3>
<p>Marks are created dynamically using the factory object <code class="docutils literal notranslate"><span class="pre">pytest.mark</span></code> and applied as a decorator.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest.mark.timeout</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;slow&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;thread&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Will create and attach a <a class="reference internal" href="#_pytest.mark.structures.Mark" title="_pytest.mark.structures.Mark"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mark</span></code></a> object to the collected
<a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a>, which can then be accessed by fixtures or hooks with
<a class="reference internal" href="#_pytest.nodes.Node.iter_markers" title="_pytest.nodes.Node.iter_markers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Node.iter_markers</span></code></a>. The <code class="docutils literal notranslate"><span class="pre">mark</span></code> object will have the following attributes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mark</span><span class="o">.</span><span class="n">args</span> <span class="o">==</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;slow&quot;</span><span class="p">)</span>
<span class="n">mark</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">==</span> <span class="p">{</span><span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;thread&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fixtures">
<h2><a class="toc-backref" href="#id33">Fixtures</a><a class="headerlink" href="#fixtures" title="Permalink to this headline">¶</a></h2>
<p><strong>Tutorial</strong>: <a class="reference internal" href="fixture.html#fixture"><span class="std std-ref">pytest fixtures: explicit, modular, scalable</span></a>.</p>
<p>Fixtures are requested by test functions or other fixtures by declaring them as argument names.</p>
<p>Example of a test requiring a fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_output</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Example of a fixture requiring another fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest.fixture</span>
<span class="k">def</span> <span class="nf">db_session</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">):</span>
    <span class="n">fn</span> <span class="o">=</span> <span class="n">tmpdir</span> <span class="o">/</span> <span class="s2">&quot;db.file&quot;</span>
    <span class="k">return</span> <span class="n">connect</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>
</pre></div>
</div>
<p>For more details, consult the full <a class="reference internal" href="fixture.html#fixture"><span class="std std-ref">fixtures docs</span></a>.</p>
<div class="section" id="pytest-fixture">
<h3><a class="toc-backref" href="#id34">&#64;pytest.fixture</a><a class="headerlink" href="#pytest-fixture" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pytest.fixture">
<code class="sig-prename descclassname">&#64;</code><code class="sig-name descname">fixture</code><span class="sig-paren">(</span><em class="sig-param">scope='function'</em>, <em class="sig-param">params=None</em>, <em class="sig-param">autouse=False</em>, <em class="sig-param">ids=None</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#fixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest.fixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to mark a fixture factory function.</p>
<p>This decorator can be used, with or without parameters, to define a
fixture function.</p>
<p>The name of the fixture function can later be referenced to cause its
invocation ahead of running tests: test
modules or classes can use the <code class="docutils literal notranslate"><span class="pre">pytest.mark.usefixtures(fixturename)</span></code>
marker.</p>
<p>Test functions can directly use fixture names as input
arguments in which case the fixture instance returned from the fixture
function will be injected.</p>
<p>Fixtures can provide their values to test functions using <code class="docutils literal notranslate"><span class="pre">return</span></code> or <code class="docutils literal notranslate"><span class="pre">yield</span></code>
statements. When using <code class="docutils literal notranslate"><span class="pre">yield</span></code> the code block after the <code class="docutils literal notranslate"><span class="pre">yield</span></code> statement is executed
as teardown code regardless of the test outcome, and must yield exactly once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scope</strong> – <p>the scope for which this fixture is shared, one of
<code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code> (default), <code class="docutils literal notranslate"><span class="pre">&quot;class&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;package&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;session&quot;</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;package&quot;</span></code> is considered <strong>experimental</strong> at this time.</p>
</p></li>
<li><p><strong>params</strong> – an optional list of parameters which will cause multiple
invocations of the fixture function and all of the tests
using it.
The current parameter is available in <code class="docutils literal notranslate"><span class="pre">request.param</span></code>.</p></li>
<li><p><strong>autouse</strong> – if True, the fixture func is activated for all tests that
can see it.  If False (the default) then an explicit
reference is needed to activate the fixture.</p></li>
<li><p><strong>ids</strong> – list of string ids each corresponding to the params
so that they are part of the test id. If no ids are provided
they will be generated automatically from the params.</p></li>
<li><p><strong>name</strong> – the name of the fixture. This defaults to the name of the
decorated function. If a fixture is used in the same module in
which it is defined, the function name of the fixture will be
shadowed by the function arg that requests the fixture; one way
to resolve this is to name the decorated function
<code class="docutils literal notranslate"><span class="pre">fixture_&lt;fixturename&gt;</span></code> and then use
<code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture(name='&lt;fixturename&gt;')</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="config-cache">
<span id="cache-api"></span><h3><a class="toc-backref" href="#id35">config.cache</a><a class="headerlink" href="#config-cache" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="cache.html#cache"><span class="std std-ref">Cache: working with cross-testrun state</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">config.cache</span></code> object allows other plugins and fixtures
to store and retrieve values across test runs. To access it from fixtures
request <code class="docutils literal notranslate"><span class="pre">pytestconfig</span></code> into your fixture and get it with <code class="docutils literal notranslate"><span class="pre">pytestconfig.cache</span></code>.</p>
<p>Under the hood, the cache plugin uses the simple
<code class="docutils literal notranslate"><span class="pre">dumps</span></code>/<code class="docutils literal notranslate"><span class="pre">loads</span></code> API of the <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> stdlib module.</p>
<dl class="method">
<dt id="_pytest.cacheprovider.Cache.get">
<code class="sig-prename descclassname">Cache.</code><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/cacheprovider.html#Cache.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.cacheprovider.Cache.get" title="Permalink to this definition">¶</a></dt>
<dd><p>return cached value for the given key.  If no value
was yet cached or the value cannot be read, the specified
default is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – must be a <code class="docutils literal notranslate"><span class="pre">/</span></code> separated value. Usually the first
name is the name of your plugin or your application.</p></li>
<li><p><strong>default</strong> – must be provided in case of a cache-miss or
invalid cache values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.cacheprovider.Cache.set">
<code class="sig-prename descclassname">Cache.</code><code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/cacheprovider.html#Cache.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.cacheprovider.Cache.set" title="Permalink to this definition">¶</a></dt>
<dd><p>save value for the given key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – must be a <code class="docutils literal notranslate"><span class="pre">/</span></code> separated value. Usually the first
name is the name of your plugin or your application.</p></li>
<li><p><strong>value</strong> – must be of any combination of basic
python types, including nested types
like e. g. lists of dictionaries.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.cacheprovider.Cache.makedir">
<code class="sig-prename descclassname">Cache.</code><code class="sig-name descname">makedir</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/cacheprovider.html#Cache.makedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.cacheprovider.Cache.makedir" title="Permalink to this definition">¶</a></dt>
<dd><p>return a directory path object with the given name.  If the
directory does not yet exist, it will be created.  You can use it
to manage files likes e. g. store/retrieve database
dumps across test sessions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – must be a string not containing a <code class="docutils literal notranslate"><span class="pre">/</span></code> separator.
Make sure the name contains your plugin or application
identifiers to prevent clashes with other cache users.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="capsys">
<h3><a class="toc-backref" href="#id36">capsys</a><a class="headerlink" href="#capsys" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capsys">
<code class="sig-name descname">capsys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capsys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capsys" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable text capturing of writes to <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>.</p>
<p>The captured output is made available via <code class="docutils literal notranslate"><span class="pre">capsys.readouterr()</span></code> method
calls, which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> namedtuple.
<code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">text</span></code> objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_output</span><span class="p">(</span><span class="n">capsys</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="_pytest.capture.CaptureFixture">
<em class="property">class </em><code class="sig-name descname">CaptureFixture</code><a class="reference internal" href="_modules/_pytest/capture.html#CaptureFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.CaptureFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Object returned by <a class="reference internal" href="#_pytest.capture.capsys" title="_pytest.capture.capsys"><code class="xref py py-func docutils literal notranslate"><span class="pre">capsys()</span></code></a>, <a class="reference internal" href="#_pytest.capture.capsysbinary" title="_pytest.capture.capsysbinary"><code class="xref py py-func docutils literal notranslate"><span class="pre">capsysbinary()</span></code></a>, <a class="reference internal" href="#_pytest.capture.capfd" title="_pytest.capture.capfd"><code class="xref py py-func docutils literal notranslate"><span class="pre">capfd()</span></code></a> and <a class="reference internal" href="#_pytest.capture.capfdbinary" title="_pytest.capture.capfdbinary"><code class="xref py py-func docutils literal notranslate"><span class="pre">capfdbinary()</span></code></a>
fixtures.</p>
<dl class="method">
<dt id="_pytest.capture.CaptureFixture.readouterr">
<code class="sig-name descname">readouterr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#CaptureFixture.readouterr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.CaptureFixture.readouterr" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and return the captured output so far, resetting the internal buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>captured content as a namedtuple with <code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> string attributes</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.capture.CaptureFixture.disabled">
<em class="property">with </em><code class="sig-name descname">disabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#CaptureFixture.disabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.CaptureFixture.disabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily disables capture while inside the ‘with’ block.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="capsysbinary">
<h3><a class="toc-backref" href="#id37">capsysbinary</a><a class="headerlink" href="#capsysbinary" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capsysbinary">
<code class="sig-name descname">capsysbinary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capsysbinary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capsysbinary" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable bytes capturing of writes to <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>.</p>
<p>The captured output is made available via <code class="docutils literal notranslate"><span class="pre">capsysbinary.readouterr()</span></code>
method calls, which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> namedtuple.
<code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">bytes</span></code> objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_output</span><span class="p">(</span><span class="n">capsysbinary</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsysbinary</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="capfd">
<h3><a class="toc-backref" href="#id38">capfd</a><a class="headerlink" href="#capfd" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capfd">
<code class="sig-name descname">capfd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capfd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capfd" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable text capturing of writes to file descriptors <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
<p>The captured output is made available via <code class="docutils literal notranslate"><span class="pre">capfd.readouterr()</span></code> method
calls, which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> namedtuple.
<code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">text</span></code> objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_system_echo</span><span class="p">(</span><span class="n">capfd</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;echo &quot;hello&quot;&#39;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="capfdbinary">
<h3><a class="toc-backref" href="#id39">capfdbinary</a><a class="headerlink" href="#capfdbinary" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="capture.html"><span class="doc">Capturing of the stdout/stderr output</span></a>.</p>
<dl class="function">
<dt id="_pytest.capture.capfdbinary">
<code class="sig-name descname">capfdbinary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/capture.html#capfdbinary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.capture.capfdbinary" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable bytes capturing of writes to file descriptors <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
<p>The captured output is made available via <code class="docutils literal notranslate"><span class="pre">capfd.readouterr()</span></code> method
calls, which return a <code class="docutils literal notranslate"><span class="pre">(out,</span> <span class="pre">err)</span></code> namedtuple.
<code class="docutils literal notranslate"><span class="pre">out</span></code> and <code class="docutils literal notranslate"><span class="pre">err</span></code> will be <code class="docutils literal notranslate"><span class="pre">byte</span></code> objects.</p>
<p>Returns an instance of <a class="reference internal" href="#_pytest.capture.CaptureFixture" title="_pytest.capture.CaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">CaptureFixture</span></code></a>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_system_echo</span><span class="p">(</span><span class="n">capfdbinary</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;echo &quot;hello&quot;&#39;</span><span class="p">)</span>
    <span class="n">captured</span> <span class="o">=</span> <span class="n">capfdbinary</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;hello</span><span class="se">\n</span><span class="s2">&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="doctest-namespace">
<h3><a class="toc-backref" href="#id40">doctest_namespace</a><a class="headerlink" href="#doctest-namespace" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="doctest.html"><span class="doc">Doctest integration for modules and test files</span></a>.</p>
<dl class="function">
<dt id="_pytest.doctest.doctest_namespace">
<code class="sig-name descname">doctest_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/doctest.html#doctest_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.doctest.doctest_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixture that returns a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> that will be injected into the namespace of doctests.</p>
<p>Usually this fixture is used in conjunction with another <code class="docutils literal notranslate"><span class="pre">autouse</span></code> fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest.fixture</span><span class="p">(</span><span class="n">autouse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_np</span><span class="p">(</span><span class="n">doctest_namespace</span><span class="p">):</span>
    <span class="n">doctest_namespace</span><span class="p">[</span><span class="s2">&quot;np&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span>
</pre></div>
</div>
<p>For more details: <a class="reference internal" href="doctest.html#doctest-namespace"><span class="std std-ref">‘doctest_namespace’ fixture</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="request">
<h3><a class="toc-backref" href="#id41">request</a><a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/simple.html#request-example"><span class="std std-ref">Pass different values to a test function, depending on command line options</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">request</span></code> fixture is a special fixture providing information of the requesting test function.</p>
<dl class="class">
<dt id="_pytest.fixtures.FixtureRequest">
<em class="property">class </em><code class="sig-name descname">FixtureRequest</code><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>A request for a fixture from a test or fixture function.</p>
<p>A request object gives access to the requesting test context
and has an optional <code class="docutils literal notranslate"><span class="pre">param</span></code> attribute in case
the fixture is parametrized indirectly.</p>
<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.fixturename">
<code class="sig-name descname">fixturename</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.fixturename" title="Permalink to this definition">¶</a></dt>
<dd><p>fixture for which this request is being performed</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.fixtures.FixtureRequest.scope">
<code class="sig-name descname">scope</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Scope string, one of “function”, “class”, “module”, “session”</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.fixturenames">
<code class="sig-name descname">fixturenames</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.fixturenames" title="Permalink to this definition">¶</a></dt>
<dd><p>names of all active fixtures in this request</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.node">
<code class="sig-name descname">node</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.node" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying collection node (depends on current request scope)</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.config">
<code class="sig-name descname">config</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.config" title="Permalink to this definition">¶</a></dt>
<dd><p>the pytest config object associated with this request.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.function">
<code class="sig-name descname">function</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.function" title="Permalink to this definition">¶</a></dt>
<dd><p>test function object if the request has a per-function scope.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.cls">
<code class="sig-name descname">cls</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.cls" title="Permalink to this definition">¶</a></dt>
<dd><p>class (can be None) where the test function was collected.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.instance">
<code class="sig-name descname">instance</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.instance" title="Permalink to this definition">¶</a></dt>
<dd><p>instance (can be None) on which test function was collected.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.module">
<code class="sig-name descname">module</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.module" title="Permalink to this definition">¶</a></dt>
<dd><p>python module object where the test function was collected.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.fspath">
<code class="sig-name descname">fspath</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.fspath" title="Permalink to this definition">¶</a></dt>
<dd><p>the file system path of the test module which collected this test.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.keywords">
<code class="sig-name descname">keywords</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>keywords/markers dictionary for the underlying node.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.session">
<code class="sig-name descname">session</code><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.session" title="Permalink to this definition">¶</a></dt>
<dd><p>pytest session object.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.addfinalizer">
<code class="sig-name descname">addfinalizer</code><span class="sig-paren">(</span><em class="sig-param">finalizer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.addfinalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.addfinalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>add finalizer/teardown function to be called after the
last test within the requesting test context finished
execution.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.applymarker">
<code class="sig-name descname">applymarker</code><span class="sig-paren">(</span><em class="sig-param">marker</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.applymarker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.applymarker" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a marker to a single test function invocation.
This method is useful if you don’t want to have a keyword/marker
on all function invocations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>marker</strong> – a <a class="reference internal" href="#_pytest.mark.MarkDecorator" title="_pytest.mark.MarkDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.mark.MarkDecorator</span></code></a> object
created by a call to <code class="docutils literal notranslate"><span class="pre">pytest.mark.NAME(...)</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.raiseerror">
<code class="sig-name descname">raiseerror</code><span class="sig-paren">(</span><em class="sig-param">msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.raiseerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.raiseerror" title="Permalink to this definition">¶</a></dt>
<dd><p>raise a FixtureLookupError with the given message.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.getfixturevalue">
<code class="sig-name descname">getfixturevalue</code><span class="sig-paren">(</span><em class="sig-param">argname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.getfixturevalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.getfixturevalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically run a named fixture function.</p>
<p>Declaring fixtures via function argument is recommended where possible.
But if you can only decide whether to use another fixture at test
setup time, you may use this function to retrieve it inside a fixture
or test function body.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.fixtures.FixtureRequest.getfuncargvalue">
<code class="sig-name descname">getfuncargvalue</code><span class="sig-paren">(</span><em class="sig-param">argname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureRequest.getfuncargvalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureRequest.getfuncargvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated, use getfixturevalue.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytestconfig">
<h3><a class="toc-backref" href="#id42">pytestconfig</a><a class="headerlink" href="#pytestconfig" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_pytest.fixtures.pytestconfig">
<code class="sig-name descname">pytestconfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/fixtures.html#pytestconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.pytestconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Session-scoped fixture that returns the <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> object.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_foo</span><span class="p">(</span><span class="n">pytestconfig</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">pytestconfig</span><span class="o">.</span><span class="n">getoption</span><span class="p">(</span><span class="s2">&quot;verbose&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="record-property">
<h3><a class="toc-backref" href="#id43">record_property</a><a class="headerlink" href="#record-property" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="usage.html#record-property-example"><span class="std std-ref">record_property</span></a>.</p>
<dl class="function">
<dt id="_pytest.junitxml.record_property">
<code class="sig-name descname">record_property</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/junitxml.html#record_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.junitxml.record_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an extra properties the calling test.
User properties become part of the test report and are available to the
configured reporters, like JUnit XML.
The fixture is callable with <code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">value)</span></code>, with value being automatically
xml-encoded.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_function</span><span class="p">(</span><span class="n">record_property</span><span class="p">):</span>
    <span class="n">record_property</span><span class="p">(</span><span class="s2">&quot;example_key&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="record-testsuite-property">
<h3><a class="toc-backref" href="#id44">record_testsuite_property</a><a class="headerlink" href="#record-testsuite-property" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="usage.html#record-testsuite-property-example"><span class="std std-ref">record_testsuite_property</span></a>.</p>
<dl class="function">
<dt id="_pytest.junitxml.record_testsuite_property">
<code class="sig-name descname">record_testsuite_property</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/junitxml.html#record_testsuite_property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.junitxml.record_testsuite_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Records a new <code class="docutils literal notranslate"><span class="pre">&lt;property&gt;</span></code> tag as child of the root <code class="docutils literal notranslate"><span class="pre">&lt;testsuite&gt;</span></code>. This is suitable to
writing global information regarding the entire test suite, and is compatible with <code class="docutils literal notranslate"><span class="pre">xunit2</span></code> JUnit family.</p>
<p>This is a <code class="docutils literal notranslate"><span class="pre">session</span></code>-scoped fixture which is called with <code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">value)</span></code>. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_foo</span><span class="p">(</span><span class="n">record_testsuite_property</span><span class="p">):</span>
    <span class="n">record_testsuite_property</span><span class="p">(</span><span class="s2">&quot;ARCH&quot;</span><span class="p">,</span> <span class="s2">&quot;PPC&quot;</span><span class="p">)</span>
    <span class="n">record_testsuite_property</span><span class="p">(</span><span class="s2">&quot;STORAGE_TYPE&quot;</span><span class="p">,</span> <span class="s2">&quot;CEPH&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> must be a string, <code class="docutils literal notranslate"><span class="pre">value</span></code> will be converted to a string and properly xml-escaped.</p>
</dd></dl>

</div>
<div class="section" id="caplog">
<h3><a class="toc-backref" href="#id45">caplog</a><a class="headerlink" href="#caplog" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="logging.html"><span class="doc">Logging</span></a>.</p>
<dl class="function">
<dt id="_pytest.logging.caplog">
<code class="sig-name descname">caplog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#caplog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.caplog" title="Permalink to this definition">¶</a></dt>
<dd><p>Access and control log capturing.</p>
<p>Captured logs are available through the following properties/methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">text</span>            <span class="o">-&gt;</span> <span class="n">string</span> <span class="n">containing</span> <span class="n">formatted</span> <span class="n">log</span> <span class="n">output</span>
<span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">records</span>         <span class="o">-&gt;</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">logging</span><span class="o">.</span><span class="n">LogRecord</span> <span class="n">instances</span>
<span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">record_tuples</span>   <span class="o">-&gt;</span> <span class="nb">list</span> <span class="n">of</span> <span class="p">(</span><span class="n">logger_name</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span> <span class="n">tuples</span>
<span class="o">*</span> <span class="n">caplog</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>         <span class="o">-&gt;</span> <span class="n">clear</span> <span class="n">captured</span> <span class="n">records</span> <span class="ow">and</span> <span class="n">formatted</span> <span class="n">log</span> <span class="n">output</span> <span class="n">string</span>
</pre></div>
</div>
<p>This returns a <a class="reference internal" href="#_pytest.logging.LogCaptureFixture" title="_pytest.logging.LogCaptureFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.logging.LogCaptureFixture</span></code></a> instance.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.logging.LogCaptureFixture">
<em class="property">class </em><code class="sig-name descname">LogCaptureFixture</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides access and control of log capturing.</p>
<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.handler">
<code class="sig-name descname">handler</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.handler" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>LogCaptureHandler</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.get_records">
<code class="sig-name descname">get_records</code><span class="sig-paren">(</span><em class="sig-param">when</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.get_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.get_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the logging records for one of the possible test phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>when</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Which test phase to obtain the records from. Valid values are: “setup”, “call” and “teardown”.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.LogRecord" title="(in Python v3.7)">logging.LogRecord</a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list of captured records at the given stage</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.text">
<code class="sig-name descname">text</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the formatted log text.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.records">
<code class="sig-name descname">records</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of log records.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.record_tuples">
<code class="sig-name descname">record_tuples</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.record_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of a stripped down version of log records intended
for use in assertion comparison.</p>
<p>The format of the tuple is:</p>
<blockquote>
<div><p>(logger_name, log_level, message)</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.messages">
<code class="sig-name descname">messages</code><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of format-interpolated log messages.</p>
<p>Unlike ‘records’, which contains the format string and parameters for interpolation, log messages in this list
are all interpolated.
Unlike ‘text’, which contains the output from the handler, log messages in this list are unadorned with
levels, timestamps, etc, making exact comparisons more reliable.</p>
<p>Note that traceback or stack info (from <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.exception" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">logging.exception()</span></code></a> or the <cite>exc_info</cite> or <cite>stack_info</cite> arguments
to the logging functions) is not included, as this is added by the formatter in the handler.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the list of log records and the captured log text.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.set_level">
<code class="sig-name descname">set_level</code><span class="sig-paren">(</span><em class="sig-param">level</em>, <em class="sig-param">logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.set_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.set_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the level for capturing of logs. The level will be restored to its previous value at the end of
the test.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the logger to level.</p></li>
<li><p><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the logger to update the level. If not given, the root logger level is updated.</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.4: </span>The levels of the loggers changed by this function will be restored to their initial values at the
end of the test.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.logging.LogCaptureFixture.at_level">
<em class="property">with </em><code class="sig-name descname">at_level</code><span class="sig-paren">(</span><em class="sig-param">level</em>, <em class="sig-param">logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/logging.html#LogCaptureFixture.at_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.logging.LogCaptureFixture.at_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager that sets the level for capturing of logs. After the end of the ‘with’ statement the
level is restored to its original value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the logger to level.</p></li>
<li><p><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the logger to update the level. If not given, the root logger level is updated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="monkeypatch">
<h3><a class="toc-backref" href="#id46">monkeypatch</a><a class="headerlink" href="#monkeypatch" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="monkeypatch.html"><span class="doc">Monkeypatching/mocking modules and environments</span></a>.</p>
<dl class="function">
<dt id="_pytest.monkeypatch.monkeypatch">
<code class="sig-name descname">monkeypatch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#monkeypatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.monkeypatch" title="Permalink to this definition">¶</a></dt>
<dd><p>The returned <code class="docutils literal notranslate"><span class="pre">monkeypatch</span></code> fixture provides these
helper methods to modify objects, dictionaries or os.environ:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">monkeypatch</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">delattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">setitem</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">delitem</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">setenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">prepend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">delenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">syspath_prepend</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>All modifications will be undone after the requesting
test function or fixture has finished. The <code class="docutils literal notranslate"><span class="pre">raising</span></code>
parameter determines if a KeyError or AttributeError
will be raised if the set/deletion operation has no target.</p>
<p>This returns a <a class="reference internal" href="#_pytest.monkeypatch.MonkeyPatch" title="_pytest.monkeypatch.MonkeyPatch"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonkeyPatch</span></code></a> instance.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.monkeypatch.MonkeyPatch">
<em class="property">class </em><code class="sig-name descname">MonkeyPatch</code><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Object returned by the <code class="docutils literal notranslate"><span class="pre">monkeypatch</span></code> fixture keeping a record of setattr/item/env/syspath changes.</p>
<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.context">
<em class="property">with </em><code class="sig-name descname">context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager that returns a new <a class="reference internal" href="#_pytest.monkeypatch.MonkeyPatch" title="_pytest.monkeypatch.MonkeyPatch"><code class="xref py py-class docutils literal notranslate"><span class="pre">MonkeyPatch</span></code></a> object which
undoes any patching done inside the <code class="docutils literal notranslate"><span class="pre">with</span></code> block upon exit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">functools</span>
<span class="k">def</span> <span class="nf">test_partial</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">monkeypatch</span><span class="o">.</span><span class="n">context</span><span class="p">()</span> <span class="k">as</span> <span class="n">m</span><span class="p">:</span>
        <span class="n">m</span><span class="o">.</span><span class="n">setattr</span><span class="p">(</span><span class="n">functools</span><span class="p">,</span> <span class="s2">&quot;partial&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Useful in situations where it is desired to undo some patches before the test ends,
such as mocking <code class="docutils literal notranslate"><span class="pre">stdlib</span></code> functions that might break pytest itself if mocked (for examples
of this see <a class="reference external" href="https://github.com/pytest-dev/pytest/issues/3290">#3290</a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.setattr">
<code class="sig-name descname">setattr</code><span class="sig-paren">(</span><em class="sig-param">target</em>, <em class="sig-param">name</em>, <em class="sig-param">value=&lt;notset&gt;</em>, <em class="sig-param">raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.setattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.setattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set attribute value on target, memorizing the old value.
By default raise AttributeError if the attribute did not exist.</p>
<p>For convenience you can specify a string as <code class="docutils literal notranslate"><span class="pre">target</span></code> which
will be interpreted as a dotted import path, with the last part
being the attribute name.  Example:
<code class="docutils literal notranslate"><span class="pre">monkeypatch.setattr(&quot;os.getcwd&quot;,</span> <span class="pre">lambda:</span> <span class="pre">&quot;/&quot;)</span></code>
would set the <code class="docutils literal notranslate"><span class="pre">getcwd</span></code> function of the <code class="docutils literal notranslate"><span class="pre">os</span></code> module.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">raising</span></code> value determines if the setattr should fail
if the attribute is not already present (defaults to True
which means it will raise).</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.delattr">
<code class="sig-name descname">delattr</code><span class="sig-paren">(</span><em class="sig-param">target</em>, <em class="sig-param">name=&lt;notset&gt;</em>, <em class="sig-param">raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.delattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.delattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete attribute <code class="docutils literal notranslate"><span class="pre">name</span></code> from <code class="docutils literal notranslate"><span class="pre">target</span></code>, by default raise
AttributeError it the attribute did not previously exist.</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">name</span></code> is specified and <code class="docutils literal notranslate"><span class="pre">target</span></code> is a string
it will be interpreted as a dotted import path with the
last part being the attribute name.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">raising</span></code> is set to False, no exception will be raised if the
attribute is missing.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.setitem">
<code class="sig-name descname">setitem</code><span class="sig-paren">(</span><em class="sig-param">dic</em>, <em class="sig-param">name</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.setitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.setitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Set dictionary entry <code class="docutils literal notranslate"><span class="pre">name</span></code> to value.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.delitem">
<code class="sig-name descname">delitem</code><span class="sig-paren">(</span><em class="sig-param">dic</em>, <em class="sig-param">name</em>, <em class="sig-param">raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.delitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.delitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete <code class="docutils literal notranslate"><span class="pre">name</span></code> from dict. Raise KeyError if it doesn’t exist.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">raising</span></code> is set to False, no exception will be raised if the
key is missing.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.setenv">
<code class="sig-name descname">setenv</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">value</em>, <em class="sig-param">prepend=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.setenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.setenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Set environment variable <code class="docutils literal notranslate"><span class="pre">name</span></code> to <code class="docutils literal notranslate"><span class="pre">value</span></code>.  If <code class="docutils literal notranslate"><span class="pre">prepend</span></code>
is a character, read the current environment variable value
and prepend the <code class="docutils literal notranslate"><span class="pre">value</span></code> adjoined with the <code class="docutils literal notranslate"><span class="pre">prepend</span></code> character.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.delenv">
<code class="sig-name descname">delenv</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">raising=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.delenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.delenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete <code class="docutils literal notranslate"><span class="pre">name</span></code> from the environment. Raise KeyError if it does
not exist.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">raising</span></code> is set to False, no exception will be raised if the
environment variable is missing.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.syspath_prepend">
<code class="sig-name descname">syspath_prepend</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.syspath_prepend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.syspath_prepend" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend <code class="docutils literal notranslate"><span class="pre">path</span></code> to <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> list of import locations.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.chdir">
<code class="sig-name descname">chdir</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current working directory to the specified path.
Path can be a string or a py.path.local object.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.monkeypatch.MonkeyPatch.undo">
<code class="sig-name descname">undo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/monkeypatch.html#MonkeyPatch.undo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.monkeypatch.MonkeyPatch.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo previous changes.  This call consumes the
undo stack. Calling it a second time has no effect unless
you do more monkeypatching after the undo call.</p>
<p>There is generally no need to call <cite>undo()</cite>, since it is
called automatically during tear-down.</p>
<p>Note that the same <cite>monkeypatch</cite> fixture is used across a
single test function invocation. If <cite>monkeypatch</cite> is used both by
the test function itself and one of the test fixtures,
calling <cite>undo()</cite> will undo all of the changes made in
both functions.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="testdir">
<h3><a class="toc-backref" href="#id47">testdir</a><a class="headerlink" href="#testdir" title="Permalink to this headline">¶</a></h3>
<p>This fixture provides a <a class="reference internal" href="#_pytest.pytester.Testdir" title="_pytest.pytester.Testdir"><code class="xref py py-class docutils literal notranslate"><span class="pre">Testdir</span></code></a> instance useful for black-box testing of test files, making it ideal to
test plugins.</p>
<p>To use it, include in your top-most <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="s1">&#39;pytester&#39;</span>
</pre></div>
</div>
<dl class="class">
<dt id="_pytest.pytester.Testdir">
<em class="property">class </em><code class="sig-name descname">Testdir</code><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporary test directory with tools to test/run pytest itself.</p>
<p>This is based on the <code class="docutils literal notranslate"><span class="pre">tmpdir</span></code> fixture but provides a number of methods
which aid with testing pytest itself.  Unless <a class="reference internal" href="#_pytest.pytester.Testdir.chdir" title="_pytest.pytester.Testdir.chdir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chdir()</span></code></a> is used all
methods will use <code class="xref py py-attr docutils literal notranslate"><span class="pre">tmpdir</span></code> as their current working directory.</p>
<p>Attributes:</p>
<dl class="field-list simple">
<dt class="field-odd">Tmpdir</dt>
<dd class="field-odd"><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> instance of the temporary directory.</p>
</dd>
<dt class="field-even">Plugins</dt>
<dd class="field-even"><p>A list of plugins to use with <a class="reference internal" href="#_pytest.pytester.Testdir.parseconfig" title="_pytest.pytester.Testdir.parseconfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfig()</span></code></a> and
<a class="reference internal" href="#_pytest.pytester.Testdir.runpytest" title="_pytest.pytester.Testdir.runpytest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">runpytest()</span></code></a>.  Initially this is an empty list but plugins can
be added to the list.  The type of items to add to the list depends on
the method using them so refer to them for details.</p>
</dd>
</dl>
<dl class="attribute">
<dt id="_pytest.pytester.Testdir.CLOSE_STDIN">
<code class="sig-name descname">CLOSE_STDIN</code><a class="headerlink" href="#_pytest.pytester.Testdir.CLOSE_STDIN" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.object</span></code></p>
</dd></dl>

<dl class="exception">
<dt id="_pytest.pytester.Testdir.TimeoutExpired">
<em class="property">exception </em><code class="sig-name descname">TimeoutExpired</code><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.TimeoutExpired"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.TimeoutExpired" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up global state artifacts.</p>
<p>Some methods modify the global interpreter state and this tries to
clean this up.  It does not remove the temporary directory however so
it can be looked at after the test run has finished.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.make_hook_recorder">
<code class="sig-name descname">make_hook_recorder</code><span class="sig-paren">(</span><em class="sig-param">pluginmanager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.make_hook_recorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.make_hook_recorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> for a PluginManager.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.chdir">
<code class="sig-name descname">chdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Cd into the temporary directory.</p>
<p>This is done automatically upon instantiation.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makefile">
<code class="sig-name descname">makefile</code><span class="sig-paren">(</span><em class="sig-param">ext</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new file(s) in the testdir.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ext</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The extension the file(s) should use, including the dot, e.g. <cite>.py</cite>.</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – All args will be treated as strings and joined using newlines.
The result will be written as contents to the file.  The name of the
file will be based on the test function requesting this fixture.</p></li>
<li><p><strong>kwargs</strong> – Each keyword is the name of a file, while the value of it will
be written as contents of the file.</p></li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">testdir</span><span class="o">.</span><span class="n">makefile</span><span class="p">(</span><span class="s2">&quot;.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;line1&quot;</span><span class="p">,</span> <span class="s2">&quot;line2&quot;</span><span class="p">)</span>

<span class="n">testdir</span><span class="o">.</span><span class="n">makefile</span><span class="p">(</span><span class="s2">&quot;.ini&quot;</span><span class="p">,</span> <span class="n">pytest</span><span class="o">=</span><span class="s2">&quot;[pytest]</span><span class="se">\n</span><span class="s2">addopts=-rs</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makeconftest">
<code class="sig-name descname">makeconftest</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makeconftest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makeconftest" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a contest.py file with ‘source’ as contents.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makeini">
<code class="sig-name descname">makeini</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makeini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makeini" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a tox.ini file with ‘source’ as contents.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getinicfg">
<code class="sig-name descname">getinicfg</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getinicfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getinicfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pytest section from the tox.ini config file.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.makepyfile">
<code class="sig-name descname">makepyfile</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.makepyfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.makepyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for .makefile() with a .py extension.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.maketxtfile">
<code class="sig-name descname">maketxtfile</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.maketxtfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.maketxtfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for .makefile() with a .txt extension.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.syspathinsert">
<code class="sig-name descname">syspathinsert</code><span class="sig-paren">(</span><em class="sig-param">path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.syspathinsert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.syspathinsert" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend a directory to sys.path, defaults to <code class="xref py py-attr docutils literal notranslate"><span class="pre">tmpdir</span></code>.</p>
<p>This is undone automatically when this object dies at the end of each
test.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.mkdir">
<code class="sig-name descname">mkdir</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new (sub)directory.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.mkpydir">
<code class="sig-name descname">mkpydir</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.mkpydir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.mkpydir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new python package.</p>
<p>This creates a (sub)directory with an empty <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file so it
gets recognised as a python package.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.pytester.Testdir.Session">
<em class="property">class </em><code class="sig-name descname">Session</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#_pytest.pytester.Testdir.Session" title="Permalink to this definition">¶</a></dt>
<dd><dl class="exception">
<dt id="_pytest.pytester.Testdir.Session.Failed">
<em class="property">exception </em><code class="sig-name descname">Failed</code><a class="headerlink" href="#_pytest.pytester.Testdir.Session.Failed" title="Permalink to this definition">¶</a></dt>
<dd><p>signals a stop as failed test run.</p>
</dd></dl>

<dl class="exception">
<dt id="_pytest.pytester.Testdir.Session.Interrupted">
<em class="property">exception </em><code class="sig-name descname">Interrupted</code><a class="headerlink" href="#_pytest.pytester.Testdir.Session.Interrupted" title="Permalink to this definition">¶</a></dt>
<dd><p>signals an interrupted test run.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.Session.collect">
<em class="property">for ... in </em><code class="sig-name descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_pytest.pytester.Testdir.Session.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getnode">
<code class="sig-name descname">getnode</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getnode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getnode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection node of a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> instance, see
<a class="reference internal" href="#_pytest.pytester.Testdir.parseconfig" title="_pytest.pytester.Testdir.parseconfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfig()</span></code></a> and <a class="reference internal" href="#_pytest.pytester.Testdir.parseconfigure" title="_pytest.pytester.Testdir.parseconfigure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfigure()</span></code></a> to create the
configuration</p></li>
<li><p><strong>arg</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> instance of the file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getpathnode">
<code class="sig-name descname">getpathnode</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getpathnode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getpathnode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection node of a file.</p>
<p>This is like <a class="reference internal" href="#_pytest.pytester.Testdir.getnode" title="_pytest.pytester.Testdir.getnode"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getnode()</span></code></a> but uses <a class="reference internal" href="#_pytest.pytester.Testdir.parseconfigure" title="_pytest.pytester.Testdir.parseconfigure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfigure()</span></code></a> to
create the (configured) pytest Config instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> instance of the file</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.genitems">
<code class="sig-name descname">genitems</code><span class="sig-paren">(</span><em class="sig-param">colitems</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.genitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.genitems" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all test items from a collection node.</p>
<p>This recurses into the collection node and returns a list of all the
test items contained within.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runitem">
<code class="sig-name descname">runitem</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the “test_func” Item.</p>
<p>The calling test instance (class containing the test method) must
provide a <code class="docutils literal notranslate"><span class="pre">.getrunner()</span></code> method which should return a runner which
can run the test protocol for a single item, e.g.
<code class="xref py py-func docutils literal notranslate"><span class="pre">_pytest.runner.runtestprotocol()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.inline_runsource">
<code class="sig-name descname">inline_runsource</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">*cmdlineargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.inline_runsource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.inline_runsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a test module in process using <code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code>.</p>
<p>This run writes “source” into a temporary file and runs
<code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code> on it, returning a <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance
for the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – the source code of the test module</p></li>
<li><p><strong>cmdlineargs</strong> – any extra command line arguments to use</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance of the result</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.inline_genitems">
<code class="sig-name descname">inline_genitems</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.inline_genitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.inline_genitems" title="Permalink to this definition">¶</a></dt>
<dd><p>Run <code class="docutils literal notranslate"><span class="pre">pytest.main(['--collectonly'])</span></code> in-process.</p>
<p>Runs the <code class="xref py py-func docutils literal notranslate"><span class="pre">pytest.main()</span></code> function to run all of pytest inside
the test process itself like <a class="reference internal" href="#_pytest.pytester.Testdir.inline_run" title="_pytest.pytester.Testdir.inline_run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inline_run()</span></code></a>, but returns a
tuple of the collected items and a <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.inline_run">
<code class="sig-name descname">inline_run</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">plugins=()</em>, <em class="sig-param">no_reraise_ctrlc=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.inline_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.inline_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run <code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code> in-process, returning a HookRecorder.</p>
<p>Runs the <code class="xref py py-func docutils literal notranslate"><span class="pre">pytest.main()</span></code> function to run all of pytest inside
the test process itself.  This means it can return a
<code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance which gives more detailed results
from that run than can be done by matching stdout/stderr from
<a class="reference internal" href="#_pytest.pytester.Testdir.runpytest" title="_pytest.pytester.Testdir.runpytest"><code class="xref py py-meth docutils literal notranslate"><span class="pre">runpytest()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – command line arguments to pass to <code class="xref py py-func docutils literal notranslate"><span class="pre">pytest.main()</span></code></p></li>
<li><p><strong>plugins</strong> – extra plugin instances the <code class="docutils literal notranslate"><span class="pre">pytest.main()</span></code> instance should use.</p></li>
<li><p><strong>no_reraise_ctrlc</strong> – typically we reraise keyboard interrupts from the child run. If
True, the KeyboardInterrupt exception is captured.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">HookRecorder</span></code> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpytest_inprocess">
<code class="sig-name descname">runpytest_inprocess</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpytest_inprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpytest_inprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Return result of running pytest in-process, providing a similar
interface to what self.runpytest() provides.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpytest">
<code class="sig-name descname">runpytest</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpytest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpytest" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pytest inline or in a subprocess, depending on the command line
option “–runpytest” and return a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.parseconfig">
<code class="sig-name descname">parseconfig</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.parseconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.parseconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new pytest Config instance from given commandline args.</p>
<p>This invokes the pytest bootstrapping code in _pytest.config to create
a new <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.core.PluginManager</span></code> and call the
pytest_cmdline_parse hook to create a new
<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> instance.</p>
<p>If <code class="xref py py-attr docutils literal notranslate"><span class="pre">plugins</span></code> has been populated they should be plugin modules
to be registered with the PluginManager.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.parseconfigure">
<code class="sig-name descname">parseconfigure</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.parseconfigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.parseconfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new pytest configured Config instance.</p>
<p>This returns a new <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> instance like
<a class="reference internal" href="#_pytest.pytester.Testdir.parseconfig" title="_pytest.pytester.Testdir.parseconfig"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfig()</span></code></a>, but also calls the pytest_configure hook.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getitem">
<code class="sig-name descname">getitem</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">funcname='test_func'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the test item for a test function.</p>
<p>This writes the source to a python file and runs pytest’s collection on
the resulting module, returning the test item for the requested
function name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – the module source</p></li>
<li><p><strong>funcname</strong> – the name of the test function for which to return a
test item</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getitems">
<code class="sig-name descname">getitems</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getitems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all test items collected from the module.</p>
<p>This writes the source to a python file and runs pytest’s collection on
the resulting module, returning all test items contained within.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.getmodulecol">
<code class="sig-name descname">getmodulecol</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">configargs=()</em>, <em class="sig-param">withinit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.getmodulecol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.getmodulecol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the module collection node for <code class="docutils literal notranslate"><span class="pre">source</span></code>.</p>
<p>This writes <code class="docutils literal notranslate"><span class="pre">source</span></code> to a file using <a class="reference internal" href="#_pytest.pytester.Testdir.makepyfile" title="_pytest.pytester.Testdir.makepyfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">makepyfile()</span></code></a> and then
runs the pytest collection on it, returning the collection node for the
test module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – the source code of the module to collect</p></li>
<li><p><strong>configargs</strong> – any extra arguments to pass to
<a class="reference internal" href="#_pytest.pytester.Testdir.parseconfigure" title="_pytest.pytester.Testdir.parseconfigure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parseconfigure()</span></code></a></p></li>
<li><p><strong>withinit</strong> – whether to also write an <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file to the
same directory to ensure it is a package</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.collect_by_name">
<code class="sig-name descname">collect_by_name</code><span class="sig-paren">(</span><em class="sig-param">modcol</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.collect_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.collect_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection node for name from the module collection.</p>
<p>This will search a module collection node for a collection node
matching the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modcol</strong> – a module collection node; see <a class="reference internal" href="#_pytest.pytester.Testdir.getmodulecol" title="_pytest.pytester.Testdir.getmodulecol"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getmodulecol()</span></code></a></p></li>
<li><p><strong>name</strong> – the name of the node to return</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.popen">
<code class="sig-name descname">popen</code><span class="sig-paren">(</span><em class="sig-param">cmdargs</em>, <em class="sig-param">stdout=-1</em>, <em class="sig-param">stderr=-1</em>, <em class="sig-param">stdin=&lt;class 'object'&gt;</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.popen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.popen" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke subprocess.Popen.</p>
<p>This calls subprocess.Popen making sure the current working directory
is in the PYTHONPATH.</p>
<p>You probably want to use <a class="reference internal" href="#_pytest.pytester.Testdir.run" title="_pytest.pytester.Testdir.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> instead.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">*cmdargs</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">stdin=&lt;class 'object'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command with arguments.</p>
<p>Run a process using subprocess.Popen saving the stdout and stderr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – the sequence of arguments to pass to <cite>subprocess.Popen()</cite></p></li>
<li><p><strong>timeout</strong> – the period in seconds after which to timeout and raise
<a class="reference internal" href="#_pytest.pytester.Testdir.TimeoutExpired" title="_pytest.pytester.Testdir.TimeoutExpired"><code class="xref py py-class docutils literal notranslate"><span class="pre">Testdir.TimeoutExpired</span></code></a></p></li>
<li><p><strong>stdin</strong> – optional standard input.  Bytes are being send, closing
the pipe, otherwise it is passed through to <code class="docutils literal notranslate"><span class="pre">popen</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">CLOSE_STDIN</span></code>, which translates to using a pipe
(<code class="docutils literal notranslate"><span class="pre">subprocess.PIPE</span></code>) that gets closed.</p></li>
</ul>
</dd>
</dl>
<p>Returns a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpython">
<code class="sig-name descname">runpython</code><span class="sig-paren">(</span><em class="sig-param">script</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpython"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpython" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a python script using sys.executable as interpreter.</p>
<p>Returns a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpython_c">
<code class="sig-name descname">runpython_c</code><span class="sig-paren">(</span><em class="sig-param">command</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpython_c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpython_c" title="Permalink to this definition">¶</a></dt>
<dd><p>Run python -c “command”, return a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.runpytest_subprocess">
<code class="sig-name descname">runpytest_subprocess</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.runpytest_subprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.runpytest_subprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pytest as a subprocess with given arguments.</p>
<p>Any plugins added to the <code class="xref py py-attr docutils literal notranslate"><span class="pre">plugins</span></code> list will be added using the
<code class="docutils literal notranslate"><span class="pre">-p</span></code> command line option.  Additionally <code class="docutils literal notranslate"><span class="pre">--basetemp</span></code> is used to put
any temporary files and directories in a numbered directory prefixed
with “runpytest-” to not conflict with the normal numbered pytest
location for temporary files and directories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – the sequence of arguments to pass to the pytest subprocess</p></li>
<li><p><strong>timeout</strong> – the period in seconds after which to timeout and raise
<a class="reference internal" href="#_pytest.pytester.Testdir.TimeoutExpired" title="_pytest.pytester.Testdir.TimeoutExpired"><code class="xref py py-class docutils literal notranslate"><span class="pre">Testdir.TimeoutExpired</span></code></a></p></li>
</ul>
</dd>
</dl>
<p>Returns a <a class="reference internal" href="#_pytest.pytester.RunResult" title="_pytest.pytester.RunResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunResult</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.spawn_pytest">
<code class="sig-name descname">spawn_pytest</code><span class="sig-paren">(</span><em class="sig-param">string</em>, <em class="sig-param">expect_timeout=10.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.spawn_pytest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.spawn_pytest" title="Permalink to this definition">¶</a></dt>
<dd><p>Run pytest using pexpect.</p>
<p>This makes sure to use the right pytest and sets up the temporary
directory locations.</p>
<p>The pexpect child is returned.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.Testdir.spawn">
<code class="sig-name descname">spawn</code><span class="sig-paren">(</span><em class="sig-param">cmd</em>, <em class="sig-param">expect_timeout=10.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#Testdir.spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.Testdir.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a command using pexpect.</p>
<p>The pexpect child is returned.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="_pytest.pytester.RunResult">
<em class="property">class </em><code class="sig-name descname">RunResult</code><a class="reference internal" href="_modules/_pytest/pytester.html#RunResult"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.RunResult" title="Permalink to this definition">¶</a></dt>
<dd><p>The result of running a command.</p>
<p>Attributes:</p>
<dl class="field-list simple">
<dt class="field-odd">Ret</dt>
<dd class="field-odd"><p>the return value</p>
</dd>
<dt class="field-even">Outlines</dt>
<dd class="field-even"><p>list of lines captured from stdout</p>
</dd>
<dt class="field-odd">Errlines</dt>
<dd class="field-odd"><p>list of lines captures from stderr</p>
</dd>
<dt class="field-even">Stdout</dt>
<dd class="field-even"><p><a class="reference internal" href="#_pytest.pytester.LineMatcher" title="_pytest.pytester.LineMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineMatcher</span></code></a> of stdout, use <code class="docutils literal notranslate"><span class="pre">stdout.str()</span></code> to
reconstruct stdout or the commonly used <code class="docutils literal notranslate"><span class="pre">stdout.fnmatch_lines()</span></code>
method</p>
</dd>
<dt class="field-odd">Stderr</dt>
<dd class="field-odd"><p><a class="reference internal" href="#_pytest.pytester.LineMatcher" title="_pytest.pytester.LineMatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineMatcher</span></code></a> of stderr</p>
</dd>
<dt class="field-even">Duration</dt>
<dd class="field-even"><p>duration in seconds</p>
</dd>
</dl>
<dl class="method">
<dt id="_pytest.pytester.RunResult.parseoutcomes">
<code class="sig-name descname">parseoutcomes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#RunResult.parseoutcomes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.RunResult.parseoutcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of outcomestring-&gt;num from parsing the terminal
output that the test process produced.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.RunResult.assert_outcomes">
<code class="sig-name descname">assert_outcomes</code><span class="sig-paren">(</span><em class="sig-param">passed=0</em>, <em class="sig-param">skipped=0</em>, <em class="sig-param">failed=0</em>, <em class="sig-param">error=0</em>, <em class="sig-param">xpassed=0</em>, <em class="sig-param">xfailed=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#RunResult.assert_outcomes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.RunResult.assert_outcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that the specified outcomes appear with the respective
numbers (0 means it didn’t occur) in the text output from a test run.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="_pytest.pytester.LineMatcher">
<em class="property">class </em><code class="sig-name descname">LineMatcher</code><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Flexible matching of text.</p>
<p>This is a convenience class to test large texts like the output of
commands.</p>
<p>The constructor takes a list of lines without their trailing newlines, i.e.
<code class="docutils literal notranslate"><span class="pre">text.splitlines()</span></code>.</p>
<dl class="method">
<dt id="_pytest.pytester.LineMatcher.str">
<code class="sig-name descname">str</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entire original text.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.fnmatch_lines_random">
<code class="sig-name descname">fnmatch_lines_random</code><span class="sig-paren">(</span><em class="sig-param">lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.fnmatch_lines_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.fnmatch_lines_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Check lines exist in the output using in any order.</p>
<p>Lines are checked using <code class="docutils literal notranslate"><span class="pre">fnmatch.fnmatch</span></code>. The argument is a list of
lines which have to occur in the output, in any order.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.re_match_lines_random">
<code class="sig-name descname">re_match_lines_random</code><span class="sig-paren">(</span><em class="sig-param">lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.re_match_lines_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.re_match_lines_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Check lines exist in the output using <code class="docutils literal notranslate"><span class="pre">re.match</span></code>, in any order.</p>
<p>The argument is a list of lines which have to occur in the output, in
any order.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.get_lines_after">
<code class="sig-name descname">get_lines_after</code><span class="sig-paren">(</span><em class="sig-param">fnline</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.get_lines_after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.get_lines_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all lines following the given line in the text.</p>
<p>The given line can contain glob wildcards.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.fnmatch_lines">
<code class="sig-name descname">fnmatch_lines</code><span class="sig-paren">(</span><em class="sig-param">lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.fnmatch_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.fnmatch_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Search captured text for matching lines using <code class="docutils literal notranslate"><span class="pre">fnmatch.fnmatch</span></code>.</p>
<p>The argument is a list of lines which have to match and can use glob
wildcards.  If they do not match a pytest.fail() is called.  The
matches and non-matches are also printed on stdout.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.pytester.LineMatcher.re_match_lines">
<code class="sig-name descname">re_match_lines</code><span class="sig-paren">(</span><em class="sig-param">lines2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/pytester.html#LineMatcher.re_match_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.pytester.LineMatcher.re_match_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Search captured text for matching lines using <code class="docutils literal notranslate"><span class="pre">re.match</span></code>.</p>
<p>The argument is a list of lines which have to match using <code class="docutils literal notranslate"><span class="pre">re.match</span></code>.
If they do not match a pytest.fail() is called.</p>
<p>The matches and non-matches are also printed on stdout.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="recwarn">
<h3><a class="toc-backref" href="#id48">recwarn</a><a class="headerlink" href="#recwarn" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="warnings.html#assertwarnings"><span class="std std-ref">Asserting warnings with the warns function</span></a></p>
<dl class="function">
<dt id="_pytest.recwarn.recwarn">
<code class="sig-name descname">recwarn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#recwarn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.recwarn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#_pytest.recwarn.WarningsRecorder" title="_pytest.recwarn.WarningsRecorder"><code class="xref py py-class docutils literal notranslate"><span class="pre">WarningsRecorder</span></code></a> instance that records all warnings emitted by test functions.</p>
<p>See <a class="reference external" href="http://docs.python.org/library/warnings.html">http://docs.python.org/library/warnings.html</a> for information
on warning categories.</p>
</dd></dl>

<dl class="class">
<dt id="_pytest.recwarn.WarningsRecorder">
<em class="property">class </em><code class="sig-name descname">WarningsRecorder</code><a class="reference internal" href="_modules/_pytest/recwarn.html#WarningsRecorder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>A context manager to record raised warnings.</p>
<p>Adapted from <cite>warnings.catch_warnings</cite>.</p>
<dl class="method">
<dt id="_pytest.recwarn.WarningsRecorder.list">
<code class="sig-name descname">list</code><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder.list" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of recorded warnings.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.recwarn.WarningsRecorder.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">cls=&lt;class 'Warning'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#WarningsRecorder.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop the first recorded warning, raise exception if not exists.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.recwarn.WarningsRecorder.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/recwarn.html#WarningsRecorder.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.recwarn.WarningsRecorder.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the list of recorded warnings.</p>
</dd></dl>

</dd></dl>

<p>Each recorded warning is an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">warnings.WarningMessage</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">RecordedWarning</span></code> was changed from a plain class to a namedtuple in pytest 3.1</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> and <code class="docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code> are treated
differently; see <a class="reference internal" href="warnings.html#ensuring-function-triggers"><span class="std std-ref">Ensuring code triggers a deprecation warning</span></a>.</p>
</div>
</div>
<div class="section" id="tmp-path">
<h3><a class="toc-backref" href="#id49">tmp_path</a><a class="headerlink" href="#tmp-path" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="tmpdir.html"><span class="doc">Temporary directories and files</span></a></p>
<dl class="function">
<dt id="_pytest.tmpdir.tmp_path">
<code class="sig-name descname">tmp_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#tmp_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.tmp_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a temporary directory path object
which is unique to each test function invocation,
created as a sub directory of the base temporary
directory.  The returned object is a <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a>
object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>in python &lt; 3.6 this is a pathlib2.Path</p>
</div>
</dd></dl>

</div>
<div class="section" id="tmp-path-factory">
<h3><a class="toc-backref" href="#id50">tmp_path_factory</a><a class="headerlink" href="#tmp-path-factory" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="tmpdir.html#tmp-path-factory-example"><span class="std std-ref">The tmp_path_factory fixture</span></a></p>
<p id="tmp-path-factory-factory-api"><code class="docutils literal notranslate"><span class="pre">tmp_path_factory</span></code> instances have the following methods:</p>
<dl class="method">
<dt id="_pytest.tmpdir.TempPathFactory.mktemp">
<code class="sig-prename descclassname">TempPathFactory.</code><code class="sig-name descname">mktemp</code><span class="sig-paren">(</span><em class="sig-param">basename</em>, <em class="sig-param">numbered=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#TempPathFactory.mktemp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.TempPathFactory.mktemp" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a temporary directory managed by the factory</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.tmpdir.TempPathFactory.getbasetemp">
<code class="sig-prename descclassname">TempPathFactory.</code><code class="sig-name descname">getbasetemp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#TempPathFactory.getbasetemp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.TempPathFactory.getbasetemp" title="Permalink to this definition">¶</a></dt>
<dd><p>return base temporary directory.</p>
</dd></dl>

</div>
<div class="section" id="tmpdir">
<h3><a class="toc-backref" href="#id51">tmpdir</a><a class="headerlink" href="#tmpdir" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="tmpdir.html"><span class="doc">Temporary directories and files</span></a></p>
<dl class="function">
<dt id="_pytest.tmpdir.tmpdir">
<code class="sig-name descname">tmpdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#tmpdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.tmpdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a temporary directory path object
which is unique to each test function invocation,
created as a sub directory of the base temporary
directory.  The returned object is a <a class="reference external" href="https://py.readthedocs.io/en/latest/path.html">py.path.local</a>
path object.</p>
</dd></dl>

</div>
<div class="section" id="tmpdir-factory">
<h3><a class="toc-backref" href="#id52">tmpdir_factory</a><a class="headerlink" href="#tmpdir-factory" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="tmpdir.html#tmpdir-factory-example"><span class="std std-ref">The ‘tmpdir_factory’ fixture</span></a></p>
<p id="tmpdir-factory-api"><code class="docutils literal notranslate"><span class="pre">tmpdir_factory</span></code> instances have the following methods:</p>
<dl class="method">
<dt id="_pytest.tmpdir.TempdirFactory.mktemp">
<code class="sig-prename descclassname">TempdirFactory.</code><code class="sig-name descname">mktemp</code><span class="sig-paren">(</span><em class="sig-param">basename</em>, <em class="sig-param">numbered=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#TempdirFactory.mktemp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.TempdirFactory.mktemp" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a subdirectory of the base temporary directory and return it.
If <code class="docutils literal notranslate"><span class="pre">numbered</span></code>, ensure the directory is unique by adding a number
prefix greater than any existing one.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.tmpdir.TempdirFactory.getbasetemp">
<code class="sig-prename descclassname">TempdirFactory.</code><code class="sig-name descname">getbasetemp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/tmpdir.html#TempdirFactory.getbasetemp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.tmpdir.TempdirFactory.getbasetemp" title="Permalink to this definition">¶</a></dt>
<dd><p>backward compat wrapper for <code class="docutils literal notranslate"><span class="pre">_tmppath_factory.getbasetemp</span></code></p>
</dd></dl>

</div>
</div>
<div class="section" id="hooks">
<span id="hook-reference"></span><h2><a class="toc-backref" href="#id53">Hooks</a><a class="headerlink" href="#hooks" title="Permalink to this headline">¶</a></h2>
<p><strong>Tutorial</strong>: <a class="reference internal" href="writing_plugins.html"><span class="doc">Writing plugins</span></a>.</p>
<p>Reference to all hooks which can be implemented by <a class="reference internal" href="writing_plugins.html#localplugin"><span class="std std-ref">conftest.py files</span></a> and <a class="reference internal" href="writing_plugins.html#plugins"><span class="std std-ref">plugins</span></a>.</p>
<div class="section" id="bootstrapping-hooks">
<h3><a class="toc-backref" href="#id54">Bootstrapping hooks</a><a class="headerlink" href="#bootstrapping-hooks" title="Permalink to this headline">¶</a></h3>
<p>Bootstrapping hooks called for plugins registered early enough (internal and setuptools plugins).</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_load_initial_conftests">
<code class="sig-name descname">pytest_load_initial_conftests</code><span class="sig-paren">(</span><em class="sig-param">early_config</em>, <em class="sig-param">parser</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_load_initial_conftests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_load_initial_conftests" title="Permalink to this definition">¶</a></dt>
<dd><p>implements the loading of initial conftest files ahead
of command line option parsing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>early_config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – list of arguments passed on the command line</p></li>
<li><p><strong>parser</strong> (<em>_pytest.config.Parser</em>) – to add command line options</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_cmdline_preparse">
<code class="sig-name descname">pytest_cmdline_preparse</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_cmdline_preparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_cmdline_preparse" title="Permalink to this definition">¶</a></dt>
<dd><p>(<strong>Deprecated</strong>) modify command line arguments before option parsing.</p>
<p>This hook is considered deprecated and will be removed in a future pytest version. Consider
using <a class="reference internal" href="#_pytest.hookspec.pytest_load_initial_conftests" title="_pytest.hookspec.pytest_load_initial_conftests"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_load_initial_conftests()</span></code></a> instead.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – list of arguments passed on the command line</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_cmdline_parse">
<code class="sig-name descname">pytest_cmdline_parse</code><span class="sig-paren">(</span><em class="sig-param">pluginmanager</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_cmdline_parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_cmdline_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>return initialized config object, parsing the specified args.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook will only be called for plugin classes passed to the <code class="docutils literal notranslate"><span class="pre">plugins</span></code> arg when using <a class="reference internal" href="#pytest-main">pytest.main</a> to
perform an in-process test run.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pluginmanager</strong> (<a class="reference internal" href="#_pytest.config.PytestPluginManager" title="_pytest.config.PytestPluginManager"><em>_pytest.config.PytestPluginManager</em></a>) – pytest plugin manager</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – list of arguments passed on the command line</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_cmdline_main">
<code class="sig-name descname">pytest_cmdline_main</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_cmdline_main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_cmdline_main" title="Permalink to this definition">¶</a></dt>
<dd><p>called for performing the main command line action. The default
implementation will invoke the configure hooks and runtest_mainloop.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook will not be called for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files, only for setuptools plugins.</p>
</div>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="initialization-hooks">
<span id="id8"></span><h3><a class="toc-backref" href="#id55">Initialization hooks</a><a class="headerlink" href="#initialization-hooks" title="Permalink to this headline">¶</a></h3>
<p>Initialization hooks called for plugins and <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files.</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_addoption">
<code class="sig-name descname">pytest_addoption</code><span class="sig-paren">(</span><em class="sig-param">parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_addoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_addoption" title="Permalink to this definition">¶</a></dt>
<dd><p>register argparse-style options and ini-style config values,
called once at the beginning of a test run.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function should be implemented only in plugins or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code>
files situated at the tests root directory due to how pytest
<a class="reference internal" href="writing_plugins.html#pluginorder"><span class="std std-ref">discovers plugins during startup</span></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parser</strong> (<em>_pytest.config.Parser</em>) – To add command line options, call
<code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addoption(...)</span></code>.
To add ini-file values call <code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addini(...)</span></code>.</p>
</dd>
</dl>
<p>Options can later be accessed through the
<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">config</span></code></a> object, respectively:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_pytest.config.Config.getoption" title="_pytest.config.Config.getoption"><code class="xref py py-func docutils literal notranslate"><span class="pre">config.getoption(name)</span></code></a> to
retrieve the value of a command line option.</p></li>
<li><p><a class="reference internal" href="#_pytest.config.Config.getini" title="_pytest.config.Config.getini"><code class="xref py py-func docutils literal notranslate"><span class="pre">config.getini(name)</span></code></a> to retrieve
a value read from an ini-style file.</p></li>
</ul>
<p>The config object is passed around on many internal objects via the <code class="docutils literal notranslate"><span class="pre">.config</span></code>
attribute or can be retrieved as the <code class="docutils literal notranslate"><span class="pre">pytestconfig</span></code> fixture.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_addhooks">
<code class="sig-name descname">pytest_addhooks</code><span class="sig-paren">(</span><em class="sig-param">pluginmanager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_addhooks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_addhooks" title="Permalink to this definition">¶</a></dt>
<dd><p>called at plugin registration time to allow adding new hooks via a call to
<code class="docutils literal notranslate"><span class="pre">pluginmanager.add_hookspecs(module_or_class,</span> <span class="pre">prefix)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pluginmanager</strong> (<a class="reference internal" href="#_pytest.config.PytestPluginManager" title="_pytest.config.PytestPluginManager"><em>_pytest.config.PytestPluginManager</em></a>) – pytest plugin manager</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_configure">
<code class="sig-name descname">pytest_configure</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows plugins and conftest files to perform initial configuration.</p>
<p>This hook is called for every plugin and initial conftest file
after command line options have been parsed.</p>
<p>After that, the hook is called for other conftest files as they are
imported.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_unconfigure">
<code class="sig-name descname">pytest_unconfigure</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_unconfigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_unconfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>called before test process is exited.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_sessionstart">
<code class="sig-name descname">pytest_sessionstart</code><span class="sig-paren">(</span><em class="sig-param">session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_sessionstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_sessionstart" title="Permalink to this definition">¶</a></dt>
<dd><p>called after the <code class="docutils literal notranslate"><span class="pre">Session</span></code> object has been created and before performing collection
and entering the run test loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_sessionfinish">
<code class="sig-name descname">pytest_sessionfinish</code><span class="sig-paren">(</span><em class="sig-param">session</em>, <em class="sig-param">exitstatus</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_sessionfinish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_sessionfinish" title="Permalink to this definition">¶</a></dt>
<dd><p>called after whole test run finished, right before returning the exit status to the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</p></li>
<li><p><strong>exitstatus</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the status which pytest will return to the system</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_plugin_registered">
<code class="sig-name descname">pytest_plugin_registered</code><span class="sig-paren">(</span><em class="sig-param">plugin</em>, <em class="sig-param">manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_plugin_registered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_plugin_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>a new pytest plugin got registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plugin</strong> – the plugin module or instance</p></li>
<li><p><strong>manager</strong> (<a class="reference internal" href="#_pytest.config.PytestPluginManager" title="_pytest.config.PytestPluginManager"><em>_pytest.config.PytestPluginManager</em></a>) – pytest plugin manager</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook is incompatible with <code class="docutils literal notranslate"><span class="pre">hookwrapper=True</span></code>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="test-running-hooks">
<h3><a class="toc-backref" href="#id56">Test running hooks</a><a class="headerlink" href="#test-running-hooks" title="Permalink to this headline">¶</a></h3>
<p>All runtest related hooks receive a <code class="xref py py-class docutils literal notranslate"><span class="pre">pytest.Item</span></code> object.</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_runtestloop">
<code class="sig-name descname">pytest_runtestloop</code><span class="sig-paren">(</span><em class="sig-param">session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtestloop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtestloop" title="Permalink to this definition">¶</a></dt>
<dd><p>called for performing the main runtest loop
(after collection finished).</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_protocol">
<code class="sig-name descname">pytest_runtest_protocol</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">nextitem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>implements the runtest_setup/call/teardown protocol for
the given test item, including capturing exceptions and calling
reporting hooks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> – test item for which the runtest protocol is performed.</p></li>
<li><p><strong>nextitem</strong> – the scheduled-to-be-next test item (or None if this
is the end my friend).  This argument is passed on to
<a class="reference internal" href="#_pytest.hookspec.pytest_runtest_teardown" title="_pytest.hookspec.pytest_runtest_teardown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_teardown()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return boolean</dt>
<dd class="field-even"><p>True if no further hook implementations should be invoked.</p>
</dd>
</dl>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_logstart">
<code class="sig-name descname">pytest_runtest_logstart</code><span class="sig-paren">(</span><em class="sig-param">nodeid</em>, <em class="sig-param">location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_logstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_logstart" title="Permalink to this definition">¶</a></dt>
<dd><p>signal the start of running a single test item.</p>
<p>This hook will be called <strong>before</strong> <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_setup" title="_pytest.hookspec.pytest_runtest_setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_setup()</span></code></a>, <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_call" title="_pytest.hookspec.pytest_runtest_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_call()</span></code></a> and
<a class="reference internal" href="#_pytest.hookspec.pytest_runtest_teardown" title="_pytest.hookspec.pytest_runtest_teardown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_teardown()</span></code></a> hooks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodeid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – full id of the item</p></li>
<li><p><strong>location</strong> – a triple of <code class="docutils literal notranslate"><span class="pre">(filename,</span> <span class="pre">linenum,</span> <span class="pre">testname)</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_logfinish">
<code class="sig-name descname">pytest_runtest_logfinish</code><span class="sig-paren">(</span><em class="sig-param">nodeid</em>, <em class="sig-param">location</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_logfinish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_logfinish" title="Permalink to this definition">¶</a></dt>
<dd><p>signal the complete finish of running a single test item.</p>
<p>This hook will be called <strong>after</strong> <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_setup" title="_pytest.hookspec.pytest_runtest_setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_setup()</span></code></a>, <a class="reference internal" href="#_pytest.hookspec.pytest_runtest_call" title="_pytest.hookspec.pytest_runtest_call"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_call()</span></code></a> and
<a class="reference internal" href="#_pytest.hookspec.pytest_runtest_teardown" title="_pytest.hookspec.pytest_runtest_teardown"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_runtest_teardown()</span></code></a> hooks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodeid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – full id of the item</p></li>
<li><p><strong>location</strong> – a triple of <code class="docutils literal notranslate"><span class="pre">(filename,</span> <span class="pre">linenum,</span> <span class="pre">testname)</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_setup">
<code class="sig-name descname">pytest_runtest_setup</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>called before <code class="docutils literal notranslate"><span class="pre">pytest_runtest_call(item)</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_call">
<code class="sig-name descname">pytest_runtest_call</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_call" title="Permalink to this definition">¶</a></dt>
<dd><p>called to execute the test <code class="docutils literal notranslate"><span class="pre">item</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_teardown">
<code class="sig-name descname">pytest_runtest_teardown</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">nextitem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_teardown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>called after <code class="docutils literal notranslate"><span class="pre">pytest_runtest_call</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nextitem</strong> – the scheduled-to-be-next test item (None if no further
test item is scheduled).  This argument can be used to
perform exact teardowns, i.e. calling just enough finalizers
so that nextitem only needs to call setup-functions.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_makereport">
<code class="sig-name descname">pytest_runtest_makereport</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">call</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_makereport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_makereport" title="Permalink to this definition">¶</a></dt>
<dd><p>return a <a class="reference internal" href="#_pytest.runner.TestReport" title="_pytest.runner.TestReport"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.runner.TestReport</span></code></a> object
for the given <code class="xref py py-class docutils literal notranslate"><span class="pre">pytest.Item</span></code> and
<a class="reference internal" href="#_pytest.runner.CallInfo" title="_pytest.runner.CallInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.runner.CallInfo</span></code></a>.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<p>For deeper understanding you may look at the default implementation of
these hooks in <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.runner</span></code> and maybe also
in <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.pdb</span></code> which interacts with <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.capture</span></code>
and its input/output capturing in order to immediately drop
into interactive debugging when a test failure occurs.</p>
<p>The <code class="xref py py-mod docutils literal notranslate"><span class="pre">_pytest.terminal</span></code> reported specifically uses
the reporting hook to print information about a test run.</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_pyfunc_call">
<code class="sig-name descname">pytest_pyfunc_call</code><span class="sig-paren">(</span><em class="sig-param">pyfuncitem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_pyfunc_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_pyfunc_call" title="Permalink to this definition">¶</a></dt>
<dd><p>call underlying test function.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

</div>
<div class="section" id="collection-hooks">
<h3><a class="toc-backref" href="#id57">Collection hooks</a><a class="headerlink" href="#collection-hooks" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pytest</span></code> calls the following hooks for collecting files and directories:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_collection">
<code class="sig-name descname">pytest_collection</code><span class="sig-paren">(</span><em class="sig-param">session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the collection protocol for the given session.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_ignore_collect">
<code class="sig-name descname">pytest_ignore_collect</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_ignore_collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_ignore_collect" title="Permalink to this definition">¶</a></dt>
<dd><p>return True to prevent considering this path for collection.
This hook is consulted for all files and directories prior to calling
more specific hooks.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> - the path to analyze</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collect_directory">
<code class="sig-name descname">pytest_collect_directory</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collect_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collect_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>called before traversing a directory for collection files.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> - the path to analyze</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collect_file">
<code class="sig-name descname">pytest_collect_file</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collect_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collect_file" title="Permalink to this definition">¶</a></dt>
<dd><p>return collection Node or None for the given path. Any new node
needs to have the specified <code class="docutils literal notranslate"><span class="pre">parent</span></code> as a parent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> - the path to collect</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_pycollect_makemodule">
<code class="sig-name descname">pytest_pycollect_makemodule</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_pycollect_makemodule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_pycollect_makemodule" title="Permalink to this definition">¶</a></dt>
<dd><p>return a Module collector or None for the given path.
This hook will be called for each matching test module path.
The pytest_collect_file hook needs to be used if you want to
create test modules for files that do not match as a test module.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a <code class="xref py py-class docutils literal notranslate"><span class="pre">py.path.local</span></code> - the path of module to collect</p>
</dd>
</dl>
</dd></dl>

<p>For influencing the collection of objects in Python modules
you can use the following hook:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_pycollect_makeitem">
<code class="sig-name descname">pytest_pycollect_makeitem</code><span class="sig-paren">(</span><em class="sig-param">collector</em>, <em class="sig-param">name</em>, <em class="sig-param">obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_pycollect_makeitem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_pycollect_makeitem" title="Permalink to this definition">¶</a></dt>
<dd><p>return custom item/collector for a python object in a module, or None.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_generate_tests">
<code class="sig-name descname">pytest_generate_tests</code><span class="sig-paren">(</span><em class="sig-param">metafunc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_generate_tests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_generate_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>generate (multiple) parametrized calls to a test function.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_make_parametrize_id">
<code class="sig-name descname">pytest_make_parametrize_id</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">val</em>, <em class="sig-param">argname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_make_parametrize_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_make_parametrize_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a user-friendly string representation of the given <code class="docutils literal notranslate"><span class="pre">val</span></code> that will be used
by &#64;pytest.mark.parametrize calls. Return None if the hook doesn’t know about <code class="docutils literal notranslate"><span class="pre">val</span></code>.
The parameter name is available as <code class="docutils literal notranslate"><span class="pre">argname</span></code>, if required.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>val</strong> – the parametrized value</p></li>
<li><p><strong>argname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – the automatic parameter name produced by pytest</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>After collection is complete, you can modify the order of
items, delete or otherwise amend the test items:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_collection_modifyitems">
<code class="sig-name descname">pytest_collection_modifyitems</code><span class="sig-paren">(</span><em class="sig-param">session</em>, <em class="sig-param">config</em>, <em class="sig-param">items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collection_modifyitems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collection_modifyitems" title="Permalink to this definition">¶</a></dt>
<dd><p>called after collection has been performed, may filter or re-order
the items in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>items</strong> (<em>List</em><em>[</em><a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><em>_pytest.nodes.Item</em></a><em>]</em>) – list of item objects</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collection_finish">
<code class="sig-name descname">pytest_collection_finish</code><span class="sig-paren">(</span><em class="sig-param">session</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collection_finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collection_finish" title="Permalink to this definition">¶</a></dt>
<dd><p>called after collection has been performed and modified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>session</strong> (<a class="reference internal" href="#_pytest.main.Session" title="_pytest.main.Session"><em>_pytest.main.Session</em></a>) – the pytest session object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="reporting-hooks">
<h3><a class="toc-backref" href="#id58">Reporting hooks</a><a class="headerlink" href="#reporting-hooks" title="Permalink to this headline">¶</a></h3>
<p>Session related reporting hooks:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_collectstart">
<code class="sig-name descname">pytest_collectstart</code><span class="sig-paren">(</span><em class="sig-param">collector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collectstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collectstart" title="Permalink to this definition">¶</a></dt>
<dd><p>collector starts collecting.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_make_collect_report">
<code class="sig-name descname">pytest_make_collect_report</code><span class="sig-paren">(</span><em class="sig-param">collector</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_make_collect_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_make_collect_report" title="Permalink to this definition">¶</a></dt>
<dd><p>perform <code class="docutils literal notranslate"><span class="pre">collector.collect()</span></code> and return a CollectReport.</p>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_itemcollected">
<code class="sig-name descname">pytest_itemcollected</code><span class="sig-paren">(</span><em class="sig-param">item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_itemcollected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_itemcollected" title="Permalink to this definition">¶</a></dt>
<dd><p>we just collected a test item.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_collectreport">
<code class="sig-name descname">pytest_collectreport</code><span class="sig-paren">(</span><em class="sig-param">report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_collectreport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_collectreport" title="Permalink to this definition">¶</a></dt>
<dd><p>collector finished collecting.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_deselected">
<code class="sig-name descname">pytest_deselected</code><span class="sig-paren">(</span><em class="sig-param">items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_deselected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_deselected" title="Permalink to this definition">¶</a></dt>
<dd><p>called for test items deselected, e.g. by keyword.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_report_header">
<code class="sig-name descname">pytest_report_header</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">startdir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_report_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_report_header" title="Permalink to this definition">¶</a></dt>
<dd><p>return a string or list of strings to be displayed as header info for terminal reporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>startdir</strong> – py.path object with the starting dir</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function should be implemented only in plugins or <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code>
files situated at the tests root directory due to how pytest
<a class="reference internal" href="writing_plugins.html#pluginorder"><span class="std std-ref">discovers plugins during startup</span></a>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_report_collectionfinish">
<code class="sig-name descname">pytest_report_collectionfinish</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">startdir</em>, <em class="sig-param">items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_report_collectionfinish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_report_collectionfinish" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.</span></p>
</div>
<p>return a string or list of strings to be displayed after collection has finished successfully.</p>
<p>This strings will be displayed after the standard “collected X items” message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>startdir</strong> – py.path object with the starting dir</p></li>
<li><p><strong>items</strong> – list of pytest items that are going to be executed; this list should not be modified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_report_teststatus">
<code class="sig-name descname">pytest_report_teststatus</code><span class="sig-paren">(</span><em class="sig-param">report</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_report_teststatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_report_teststatus" title="Permalink to this definition">¶</a></dt>
<dd><p>return result-category, shortletter and verbose word for reporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p>
</dd>
</dl>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_terminal_summary">
<code class="sig-name descname">pytest_terminal_summary</code><span class="sig-paren">(</span><em class="sig-param">terminalreporter</em>, <em class="sig-param">exitstatus</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_terminal_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_terminal_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a section to terminal summary reporting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>terminalreporter</strong> (<em>_pytest.terminal.TerminalReporter</em>) – the internal terminal reporter object</p></li>
<li><p><strong>exitstatus</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – the exit status that will be reported back to the OS</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.2: </span>The <code class="docutils literal notranslate"><span class="pre">config</span></code> parameter.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_fixture_setup">
<code class="sig-name descname">pytest_fixture_setup</code><span class="sig-paren">(</span><em class="sig-param">fixturedef</em>, <em class="sig-param">request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_fixture_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_fixture_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>performs fixture setup execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The return value of the call to the fixture function</p>
</dd>
</dl>
<p>Stops at first non-None result, see <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the fixture function returns None, other implementations of
this hook function will continue to be called, according to the
behavior of the <a class="reference internal" href="writing_plugins.html#firstresult"><span class="std std-ref">firstresult: stop at first non-None result</span></a> option.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_fixture_post_finalizer">
<code class="sig-name descname">pytest_fixture_post_finalizer</code><span class="sig-paren">(</span><em class="sig-param">fixturedef</em>, <em class="sig-param">request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_fixture_post_finalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_fixture_post_finalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>called after fixture teardown, but before the cache is cleared so
the fixture result cache <code class="docutils literal notranslate"><span class="pre">fixturedef.cached_result</span></code> can
still be accessed.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_warning_captured">
<code class="sig-name descname">pytest_warning_captured</code><span class="sig-paren">(</span><em class="sig-param">warning_message</em>, <em class="sig-param">when</em>, <em class="sig-param">item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_warning_captured"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_warning_captured" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a warning captured by the internal pytest warnings plugin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warning_message</strong> (<em>warnings.WarningMessage</em>) – The captured warning. This is the same object produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.catch_warnings()</span></code>, and contains
the same attributes as the parameters of <a class="reference external" href="https://docs.python.org/3/library/warnings.html#warnings.showwarning" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">warnings.showwarning()</span></code></a>.</p></li>
<li><p><strong>when</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – <p>Indicates when the warning was captured. Possible values:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;config&quot;</span></code>: during pytest configuration/initialization stage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;collect&quot;</span></code>: during test collection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;runtest&quot;</span></code>: during test execution.</p></li>
</ul>
</p></li>
<li><p><strong>item</strong> (<em>pytest.Item|None</em>) – <p><strong>DEPRECATED</strong>: This parameter is incompatible with <code class="docutils literal notranslate"><span class="pre">pytest-xdist</span></code>, and will always receive <code class="docutils literal notranslate"><span class="pre">None</span></code>
in a future release.</p>
<p>The item being executed if <code class="docutils literal notranslate"><span class="pre">when</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;runtest&quot;</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Central hook for reporting about test execution:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_runtest_logreport">
<code class="sig-name descname">pytest_runtest_logreport</code><span class="sig-paren">(</span><em class="sig-param">report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_runtest_logreport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_runtest_logreport" title="Permalink to this definition">¶</a></dt>
<dd><p>process a test setup/call/teardown report relating to
the respective phase of executing a test.</p>
</dd></dl>

<p>Assertion related hooks:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_assertrepr_compare">
<code class="sig-name descname">pytest_assertrepr_compare</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">op</em>, <em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_assertrepr_compare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_assertrepr_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>return explanation for comparisons in failing assert expressions.</p>
<p>Return None for no custom explanation, otherwise return a list
of strings.  The strings will be joined by newlines but any newlines
<em>in</em> a string will be escaped.  Note that all but the first line will
be indented slightly, the intention is for the first line to be a summary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_assertion_pass">
<code class="sig-name descname">pytest_assertion_pass</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">lineno</em>, <em class="sig-param">orig</em>, <em class="sig-param">expl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_assertion_pass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_assertion_pass" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>(Experimental)</strong></p>
<p>Hook called whenever an assertion <em>passes</em>.</p>
<p>Use this hook to do some processing after a passing assertion.
The original assertion information is available in the <cite>orig</cite> string
and the pytest introspected assertion information is available in the
<cite>expl</cite> string.</p>
<p>This hook must be explicitly enabled by the <code class="docutils literal notranslate"><span class="pre">enable_assertion_pass_hook</span></code>
ini-file option:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">enable_assertion_pass_hook</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>You need to <strong>clean the .pyc</strong> files in your project directory and interpreter libraries
when enabling this option, as assertions will require to be re-written.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><em>_pytest.nodes.Item</em></a>) – pytest item object of current test</p></li>
<li><p><strong>lineno</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – line number of the assert statement</p></li>
<li><p><strong>orig</strong> (<em>string</em>) – string with original assertion</p></li>
<li><p><strong>expl</strong> (<em>string</em>) – string with assert explanation</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook is <strong>experimental</strong>, so its parameters or even the hook itself might
be changed/removed without warning in any future pytest release.</p>
<p>If you find this hook useful, please share your feedback opening an issue.</p>
</div>
</dd></dl>

</div>
<div class="section" id="debugging-interaction-hooks">
<h3><a class="toc-backref" href="#id59">Debugging/Interaction hooks</a><a class="headerlink" href="#debugging-interaction-hooks" title="Permalink to this headline">¶</a></h3>
<p>There are few hooks which can be used for special
reporting or interaction with exceptions:</p>
<dl class="function">
<dt id="_pytest.hookspec.pytest_internalerror">
<code class="sig-name descname">pytest_internalerror</code><span class="sig-paren">(</span><em class="sig-param">excrepr</em>, <em class="sig-param">excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_internalerror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_internalerror" title="Permalink to this definition">¶</a></dt>
<dd><p>called for internal errors.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_keyboard_interrupt">
<code class="sig-name descname">pytest_keyboard_interrupt</code><span class="sig-paren">(</span><em class="sig-param">excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_keyboard_interrupt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_keyboard_interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>called for keyboard interrupt.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_exception_interact">
<code class="sig-name descname">pytest_exception_interact</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">call</em>, <em class="sig-param">report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_exception_interact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_exception_interact" title="Permalink to this definition">¶</a></dt>
<dd><p>called when an exception was raised which can potentially be
interactively handled.</p>
<p>This hook is only called if an exception was raised
that is not an internal exception like <code class="docutils literal notranslate"><span class="pre">skip.Exception</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_pytest.hookspec.pytest_enter_pdb">
<code class="sig-name descname">pytest_enter_pdb</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">pdb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/hookspec.html#pytest_enter_pdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.hookspec.pytest_enter_pdb" title="Permalink to this definition">¶</a></dt>
<dd><p>called upon pdb.set_trace(), can be used by plugins to take special
action just before the python debugger enters in interactive mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><em>_pytest.config.Config</em></a>) – pytest config object</p></li>
<li><p><strong>pdb</strong> (<a class="reference external" href="https://docs.python.org/3/library/pdb.html#pdb.Pdb" title="(in Python v3.7)"><em>pdb.Pdb</em></a>) – Pdb instance</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="objects">
<h2><a class="toc-backref" href="#id60">Objects</a><a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h2>
<p>Full reference to objects accessible from <a class="reference internal" href="fixture.html#fixture"><span class="std std-ref">fixtures</span></a> or <a class="reference internal" href="#hook-reference"><span class="std std-ref">hooks</span></a>.</p>
<div class="section" id="callinfo">
<h3><a class="toc-backref" href="#id61">CallInfo</a><a class="headerlink" href="#callinfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.runner.CallInfo">
<em class="property">class </em><code class="sig-name descname">CallInfo</code><a class="reference internal" href="_modules/_pytest/runner.html#CallInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.runner.CallInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Result/Exception info a function invocation.</p>
</dd></dl>

</div>
<div class="section" id="class">
<h3><a class="toc-backref" href="#id62">Class</a><a class="headerlink" href="#class" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Class">
<em class="property">class </em><code class="sig-name descname">Class</code><a class="reference internal" href="_modules/_pytest/python.html#Class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.python.PyCollector</span></code></p>
<p>Collector for test methods.</p>
<dl class="method">
<dt id="_pytest.python.Class.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Class.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Class.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="collector">
<h3><a class="toc-backref" href="#id63">Collector</a><a class="headerlink" href="#collector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.Collector">
<em class="property">class </em><code class="sig-name descname">Collector</code><a class="reference internal" href="_modules/_pytest/nodes.html#Collector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.Node" title="_pytest.nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Node</span></code></a></p>
<p>Collector instances create children through collect()
and thus iteratively build a tree.</p>
<dl class="exception">
<dt id="_pytest.nodes.Collector.CollectError">
<em class="property">exception </em><code class="sig-name descname">CollectError</code><a class="reference internal" href="_modules/_pytest/nodes.html#Collector.CollectError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector.CollectError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>an error during collection, contains a custom message.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Collector.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Collector.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Collector.repr_failure">
<code class="sig-name descname">repr_failure</code><span class="sig-paren">(</span><em class="sig-param">excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Collector.repr_failure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Collector.repr_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>represent a collection failure.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="config">
<h3><a class="toc-backref" href="#id64">Config</a><a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.Config">
<em class="property">class </em><code class="sig-name descname">Config</code><a class="reference internal" href="_modules/_pytest/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>access to configuration values, pluginmanager and plugin hooks.</p>
<dl class="attribute">
<dt id="_pytest.config.Config.option">
<code class="sig-name descname">option</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.config.Config.option" title="Permalink to this definition">¶</a></dt>
<dd><p>access to command line option as attributes.
(deprecated), use <a class="reference internal" href="#_pytest.config.Config.getoption" title="_pytest.config.Config.getoption"><code class="xref py py-func docutils literal notranslate"><span class="pre">getoption()</span></code></a> instead</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.config.Config.pluginmanager">
<code class="sig-name descname">pluginmanager</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.config.Config.pluginmanager" title="Permalink to this definition">¶</a></dt>
<dd><p>a pluginmanager instance</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.add_cleanup">
<code class="sig-name descname">add_cleanup</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.add_cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.add_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a function to be called when the config object gets out of
use (usually coninciding with pytest_unconfigure).</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.fromdictargs">
<em class="property">classmethod </em><code class="sig-name descname">fromdictargs</code><span class="sig-paren">(</span><em class="sig-param">option_dict</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.fromdictargs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.fromdictargs" title="Permalink to this definition">¶</a></dt>
<dd><p>constructor useable for subprocesses.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.addinivalue_line">
<code class="sig-name descname">addinivalue_line</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.addinivalue_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.addinivalue_line" title="Permalink to this definition">¶</a></dt>
<dd><p>add a line to an ini-file option. The option must have been
declared but might not yet be set in which case the line becomes the
the first line in its value.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getini">
<code class="sig-name descname">getini</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getini" title="Permalink to this definition">¶</a></dt>
<dd><p>return configuration value from an <a class="reference internal" href="customize.html#inifiles"><span class="std std-ref">ini file</span></a>. If the
specified name hasn’t been registered through a prior
<code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addini</span></code>
call (usually from a plugin), a ValueError is raised.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getoption">
<code class="sig-name descname">getoption</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">default=&lt;NOTSET&gt;</em>, <em class="sig-param">skip=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getoption" title="Permalink to this definition">¶</a></dt>
<dd><p>return command line option value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the option.  You may also specify
the literal <code class="docutils literal notranslate"><span class="pre">--OPT</span></code> option instead of the “dest” option name.</p></li>
<li><p><strong>default</strong> – default value if no option of that name exists.</p></li>
<li><p><strong>skip</strong> – if True raise pytest.skip if option does not exists
or has a None value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getvalue">
<code class="sig-name descname">getvalue</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getvalue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>(deprecated, use getoption())</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.Config.getvalueorskip">
<code class="sig-name descname">getvalueorskip</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#Config.getvalueorskip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.Config.getvalueorskip" title="Permalink to this definition">¶</a></dt>
<dd><p>(deprecated, use getoption(skip=True))</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptioninfo">
<h3><a class="toc-backref" href="#id65">ExceptionInfo</a><a class="headerlink" href="#exceptioninfo" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest._code.ExceptionInfo">
<em class="property">class </em><code class="sig-name descname">ExceptionInfo</code><span class="sig-paren">(</span><em class="sig-param">excinfo</em>, <em class="sig-param">striptext=''</em>, <em class="sig-param">traceback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>wraps sys.exc_info() objects and offers
help for navigating the traceback.</p>
<dl class="method">
<dt id="_pytest._code.ExceptionInfo.from_current">
<em class="property">classmethod </em><code class="sig-name descname">from_current</code><span class="sig-paren">(</span><em class="sig-param">exprinfo=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.from_current"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.from_current" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an ExceptionInfo matching the current traceback</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Experimental API</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exprinfo</strong> – a text string helping to determine if we should
strip <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> from the output, defaults
to the exception message/<code class="docutils literal notranslate"><span class="pre">__str__()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.for_later">
<em class="property">classmethod </em><code class="sig-name descname">for_later</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.for_later"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.for_later" title="Permalink to this definition">¶</a></dt>
<dd><p>return an unfilled ExceptionInfo</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.type">
<code class="sig-name descname">type</code><a class="headerlink" href="#_pytest._code.ExceptionInfo.type" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception class</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.value">
<code class="sig-name descname">value</code><a class="headerlink" href="#_pytest._code.ExceptionInfo.value" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception value</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.tb">
<code class="sig-name descname">tb</code><a class="headerlink" href="#_pytest._code.ExceptionInfo.tb" title="Permalink to this definition">¶</a></dt>
<dd><p>the exception raw traceback</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.typename">
<code class="sig-name descname">typename</code><a class="headerlink" href="#_pytest._code.ExceptionInfo.typename" title="Permalink to this definition">¶</a></dt>
<dd><p>the type name of the exception</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.traceback">
<code class="sig-name descname">traceback</code><a class="headerlink" href="#_pytest._code.ExceptionInfo.traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>the traceback</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.exconly">
<code class="sig-name descname">exconly</code><span class="sig-paren">(</span><em class="sig-param">tryshort=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.exconly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.exconly" title="Permalink to this definition">¶</a></dt>
<dd><p>return the exception as a string</p>
<p>when ‘tryshort’ resolves to True, and the exception is a
_pytest._code._AssertionError, only the actual exception part of
the exception representation is returned (so ‘AssertionError: ‘ is
removed from the beginning)</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.errisinstance">
<code class="sig-name descname">errisinstance</code><span class="sig-paren">(</span><em class="sig-param">exc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.errisinstance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.errisinstance" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if the exception is an instance of exc</p>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.getrepr">
<code class="sig-name descname">getrepr</code><span class="sig-paren">(</span><em class="sig-param">showlocals=False</em>, <em class="sig-param">style='long'</em>, <em class="sig-param">abspath=False</em>, <em class="sig-param">tbfilter=True</em>, <em class="sig-param">funcargs=False</em>, <em class="sig-param">truncate_locals=True</em>, <em class="sig-param">chain=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.getrepr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.getrepr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return str()able representation of this exception info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>showlocals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Show locals per traceback entry.
Ignored if <code class="docutils literal notranslate"><span class="pre">style==&quot;native&quot;</span></code>.</p></li>
<li><p><strong>style</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – long|short|no|native traceback style</p></li>
<li><p><strong>abspath</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – If paths should be changed to absolute or left unchanged.</p></li>
<li><p><strong>tbfilter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Hide entries that contain a local variable <code class="docutils literal notranslate"><span class="pre">__tracebackhide__==True</span></code>.
Ignored if <code class="docutils literal notranslate"><span class="pre">style==&quot;native&quot;</span></code>.</p></li>
<li><p><strong>funcargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Show fixtures (“funcargs” for legacy purposes) per traceback entry.</p></li>
<li><p><strong>truncate_locals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – With <code class="docutils literal notranslate"><span class="pre">showlocals==True</span></code>, make sure locals can be safely represented as strings.</p></li>
<li><p><strong>chain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – if chained exceptions in Python 3 should be shown.</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.9: </span>Added the <code class="docutils literal notranslate"><span class="pre">chain</span></code> parameter.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest._code.ExceptionInfo.match">
<code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param">regexp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/_code/code.html#ExceptionInfo.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest._code.ExceptionInfo.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the regular expression ‘regexp’ is found in the string
representation of the exception using <code class="docutils literal notranslate"><span class="pre">re.search</span></code>. If it matches
then True is returned (so that it is possible to write
<code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">excinfo.match()</span></code>). If it doesn’t match an AssertionError is
raised.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytest-exitcode">
<h3><a class="toc-backref" href="#id66">pytest.ExitCode</a><a class="headerlink" href="#pytest-exitcode" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.main.ExitCode">
<em class="property">class </em><code class="sig-name descname">ExitCode</code><a class="reference internal" href="_modules/_pytest/main.html#ExitCode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.main.ExitCode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes the valid exit codes by pytest.</p>
<p>Currently users and plugins may supply other exit codes as well.</p>
<dl class="attribute">
<dt id="_pytest.main.ExitCode.OK">
<code class="sig-name descname">OK</code><em class="property"> = 0</em><a class="headerlink" href="#_pytest.main.ExitCode.OK" title="Permalink to this definition">¶</a></dt>
<dd><p>tests passed</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.main.ExitCode.TESTS_FAILED">
<code class="sig-name descname">TESTS_FAILED</code><em class="property"> = 1</em><a class="headerlink" href="#_pytest.main.ExitCode.TESTS_FAILED" title="Permalink to this definition">¶</a></dt>
<dd><p>tests failed</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.main.ExitCode.INTERRUPTED">
<code class="sig-name descname">INTERRUPTED</code><em class="property"> = 2</em><a class="headerlink" href="#_pytest.main.ExitCode.INTERRUPTED" title="Permalink to this definition">¶</a></dt>
<dd><p>pytest was interrupted</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.main.ExitCode.INTERNAL_ERROR">
<code class="sig-name descname">INTERNAL_ERROR</code><em class="property"> = 3</em><a class="headerlink" href="#_pytest.main.ExitCode.INTERNAL_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><p>an internal error got in the way</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.main.ExitCode.USAGE_ERROR">
<code class="sig-name descname">USAGE_ERROR</code><em class="property"> = 4</em><a class="headerlink" href="#_pytest.main.ExitCode.USAGE_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><p>pytest was misused</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.main.ExitCode.NO_TESTS_COLLECTED">
<code class="sig-name descname">NO_TESTS_COLLECTED</code><em class="property"> = 5</em><a class="headerlink" href="#_pytest.main.ExitCode.NO_TESTS_COLLECTED" title="Permalink to this definition">¶</a></dt>
<dd><p>pytest couldn’t find tests</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="fixturedef">
<h3><a class="toc-backref" href="#id67">FixtureDef</a><a class="headerlink" href="#fixturedef" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.fixtures.FixtureDef">
<em class="property">class </em><code class="sig-name descname">FixtureDef</code><a class="reference internal" href="_modules/_pytest/fixtures.html#FixtureDef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.fixtures.FixtureDef" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A container for a factory definition.</p>
</dd></dl>

</div>
<div class="section" id="fscollector">
<h3><a class="toc-backref" href="#id68">FSCollector</a><a class="headerlink" href="#fscollector" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.FSCollector">
<em class="property">class </em><code class="sig-name descname">FSCollector</code><a class="reference internal" href="_modules/_pytest/nodes.html#FSCollector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.FSCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.Collector" title="_pytest.nodes.Collector"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Collector</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="function">
<h3><a class="toc-backref" href="#id69">Function</a><a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Function">
<em class="property">class </em><code class="sig-name descname">Function</code><a class="reference internal" href="_modules/_pytest/python.html#Function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.python.FunctionMixin</span></code>, <a class="reference internal" href="#_pytest.nodes.Item" title="_pytest.nodes.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Item</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.compat.FuncargnamesCompatAttr</span></code></p>
<p>a Function Item is responsible for setting up and executing a
Python test function.</p>
<dl class="attribute">
<dt id="_pytest.python.Function.originalname">
<code class="sig-name descname">originalname</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Function.originalname" title="Permalink to this definition">¶</a></dt>
<dd><p>original function name, without any decorations (for example
parametrization adds a <code class="docutils literal notranslate"><span class="pre">&quot;[...]&quot;</span></code> suffix to function names).</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.python.Function.function">
<code class="sig-name descname">function</code><a class="headerlink" href="#_pytest.python.Function.function" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying python ‘function’ object</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.python.Function.runtest">
<code class="sig-name descname">runtest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Function.runtest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Function.runtest" title="Permalink to this definition">¶</a></dt>
<dd><p>execute the underlying test function.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.python.Function.setup">
<code class="sig-name descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Function.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Function.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>perform setup for this test function.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="item">
<h3><a class="toc-backref" href="#id70">Item</a><a class="headerlink" href="#item" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.Item">
<em class="property">class </em><code class="sig-name descname">Item</code><a class="reference internal" href="_modules/_pytest/nodes.html#Item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.Node" title="_pytest.nodes.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.Node</span></code></a></p>
<p>a basic test invocation item. Note that for a single function
there might be multiple test invocation items.</p>
<dl class="attribute">
<dt id="_pytest.nodes.Item.user_properties">
<code class="sig-name descname">user_properties</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Item.user_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>user properties is a list of tuples (name, value) that holds user
defined properties for this test.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Item.add_report_section">
<code class="sig-name descname">add_report_section</code><span class="sig-paren">(</span><em class="sig-param">when</em>, <em class="sig-param">key</em>, <em class="sig-param">content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Item.add_report_section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Item.add_report_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new report section, similar to what’s done internally to add stdout and
stderr captured output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">item</span><span class="o">.</span><span class="n">add_report_section</span><span class="p">(</span><span class="s2">&quot;call&quot;</span><span class="p">,</span> <span class="s2">&quot;stdout&quot;</span><span class="p">,</span> <span class="s2">&quot;report section contents&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>when</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – One of the possible capture states, <code class="docutils literal notranslate"><span class="pre">&quot;setup&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;call&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;teardown&quot;</span></code>.</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the section, can be customized at will. Pytest uses <code class="docutils literal notranslate"><span class="pre">&quot;stdout&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;stderr&quot;</span></code> internally.</p></li>
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The full contents as a string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="markdecorator">
<h3><a class="toc-backref" href="#id71">MarkDecorator</a><a class="headerlink" href="#markdecorator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.MarkDecorator">
<em class="property">class </em><code class="sig-name descname">MarkDecorator</code><span class="sig-paren">(</span><em class="sig-param">mark</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkDecorator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkDecorator" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator for test functions and test classes.  When applied
it will create <code class="xref py py-class docutils literal notranslate"><span class="pre">MarkInfo</span></code> objects which may be
<a class="reference internal" href="example/simple.html#excontrolskip"><span class="std std-ref">retrieved by hooks as item keywords</span></a>.
MarkDecorator instances are often created like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mark1</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">NAME</span>              <span class="c1"># simple MarkDecorator</span>
<span class="n">mark2</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">NAME</span><span class="p">(</span><span class="n">name1</span><span class="o">=</span><span class="n">value</span><span class="p">)</span> <span class="c1"># parametrized MarkDecorator</span>
</pre></div>
</div>
<p>and can then be applied as decorators to test functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@mark2</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<dl class="simple">
<dt>When a MarkDecorator instance is called it does the following:</dt><dd><ol class="arabic simple">
<li><p>If called with a single class as its only positional argument and no
additional keyword arguments, it attaches itself to the class so it
gets applied automatically to all test cases found in that class.</p></li>
<li><p>If called with a single function as its only positional argument and
no additional keyword arguments, it attaches a MarkInfo object to the
function, containing all the arguments already stored internally in
the MarkDecorator.</p></li>
<li><p>When called in any other case, it performs a ‘fake construction’ call,
i.e. it returns a new MarkDecorator instance with the original
MarkDecorator’s content updated with the arguments passed to this
call.</p></li>
</ol>
</dd>
</dl>
<p>Note: The rules above prevent MarkDecorator objects from storing only a
single function or class reference as their positional argument with no
additional keyword or positional arguments.</p>
<dl class="method">
<dt id="_pytest.mark.MarkDecorator.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#_pytest.mark.MarkDecorator.name" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for mark.name</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.MarkDecorator.args">
<code class="sig-name descname">args</code><a class="headerlink" href="#_pytest.mark.MarkDecorator.args" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for mark.args</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.MarkDecorator.kwargs">
<code class="sig-name descname">kwargs</code><a class="headerlink" href="#_pytest.mark.MarkDecorator.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for mark.kwargs</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.MarkDecorator.with_args">
<code class="sig-name descname">with_args</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkDecorator.with_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkDecorator.with_args" title="Permalink to this definition">¶</a></dt>
<dd><p>return a MarkDecorator with extra arguments added</p>
<p>unlike call this can be used even if the sole argument is a callable/class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MarkDecorator</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="markgenerator">
<h3><a class="toc-backref" href="#id72">MarkGenerator</a><a class="headerlink" href="#markgenerator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.MarkGenerator">
<em class="property">class </em><code class="sig-name descname">MarkGenerator</code><a class="reference internal" href="_modules/_pytest/mark/structures.html#MarkGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.MarkGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory for <a class="reference internal" href="#_pytest.mark.MarkDecorator" title="_pytest.mark.MarkDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkDecorator</span></code></a> objects - exposed as
a <code class="docutils literal notranslate"><span class="pre">pytest.mark</span></code> singleton instance.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>
<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">slowtest</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
   <span class="k">pass</span>
</pre></div>
</div>
<p>will set a ‘slowtest’ <code class="xref py py-class docutils literal notranslate"><span class="pre">MarkInfo</span></code> object
on the <code class="docutils literal notranslate"><span class="pre">test_function</span></code> object.</p>
</dd></dl>

</div>
<div class="section" id="mark">
<h3><a class="toc-backref" href="#id73">Mark</a><a class="headerlink" href="#mark" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.mark.structures.Mark">
<em class="property">class </em><code class="sig-name descname">Mark</code><span class="sig-paren">(</span><em class="sig-param">name: str</em>, <em class="sig-param">args</em>, <em class="sig-param">kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#Mark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.structures.Mark" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="_pytest.mark.structures.Mark.name">
<code class="sig-name descname">name</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.mark.structures.Mark.name" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the mark</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.structures.Mark.args">
<code class="sig-name descname">args</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.mark.structures.Mark.args" title="Permalink to this definition">¶</a></dt>
<dd><p>positional arguments of the mark decorator</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.mark.structures.Mark.kwargs">
<code class="sig-name descname">kwargs</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.mark.structures.Mark.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>keyword arguments of the mark decorator</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.mark.structures.Mark.combined_with">
<code class="sig-name descname">combined_with</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/mark/structures.html#Mark.combined_with"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.mark.structures.Mark.combined_with" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#_pytest.mark.structures.Mark" title="_pytest.mark.structures.Mark"><em>Mark</em></a>) – the mark to combine with</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#_pytest.mark.structures.Mark" title="_pytest.mark.structures.Mark">Mark</a></p>
</dd>
</dl>
<p>combines by appending args and merging the mappings</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="metafunc">
<h3><a class="toc-backref" href="#id74">Metafunc</a><a class="headerlink" href="#metafunc" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Metafunc">
<em class="property">class </em><code class="sig-name descname">Metafunc</code><span class="sig-paren">(</span><em class="sig-param">definition</em>, <em class="sig-param">fixtureinfo</em>, <em class="sig-param">config</em>, <em class="sig-param">cls=None</em>, <em class="sig-param">module=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Metafunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Metafunc objects are passed to the <a class="reference internal" href="#_pytest.hookspec.pytest_generate_tests" title="_pytest.hookspec.pytest_generate_tests"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_generate_tests</span></code></a> hook.
They help to inspect a test function and to generate tests according to
test configuration or values specified in the class or module where a
test function is defined.</p>
<dl class="attribute">
<dt id="_pytest.python.Metafunc.config">
<code class="sig-name descname">config</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.config" title="Permalink to this definition">¶</a></dt>
<dd><p>access to the <a class="reference internal" href="#_pytest.config.Config" title="_pytest.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.config.Config</span></code></a> object for the test session</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.module">
<code class="sig-name descname">module</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.module" title="Permalink to this definition">¶</a></dt>
<dd><p>the module object where the test function is defined in.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.function">
<code class="sig-name descname">function</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.function" title="Permalink to this definition">¶</a></dt>
<dd><p>underlying python test function</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.fixturenames">
<code class="sig-name descname">fixturenames</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.fixturenames" title="Permalink to this definition">¶</a></dt>
<dd><p>set of fixture names required by the test function</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.python.Metafunc.cls">
<code class="sig-name descname">cls</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.python.Metafunc.cls" title="Permalink to this definition">¶</a></dt>
<dd><p>class object where the test function is defined in or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">parametrize</code><span class="sig-paren">(</span><em class="sig-param">argnames</em>, <em class="sig-param">argvalues</em>, <em class="sig-param">indirect=False</em>, <em class="sig-param">ids=None</em>, <em class="sig-param">scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Metafunc.parametrize"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Add new invocations to the underlying test function using the list
of argvalues for the given argnames.  Parametrization is performed
during the collection phase.  If you need to setup expensive resources
see about setting indirect to do it rather at test setup time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>argnames</strong> – a comma-separated string denoting one or more argument
names, or a list/tuple of argument strings.</p></li>
<li><p><strong>argvalues</strong> – The list of argvalues determines how often a
test is invoked with different argument values.  If only one
argname was specified argvalues is a list of values.  If N
argnames were specified, argvalues must be a list of N-tuples,
where each tuple-element specifies a value for its respective
argname.</p></li>
<li><p><strong>indirect</strong> – The list of argnames or boolean. A list of arguments’
names (subset of argnames). If True the list contains all names from
the argnames. Each argvalue corresponding to an argname in this list will
be passed as request.param to its respective argname fixture
function so that it can perform more expensive setups during the
setup phase of a test rather than at collection time.</p></li>
<li><p><strong>ids</strong> – list of string ids, or a callable.
If strings, each is corresponding to the argvalues so that they are
part of the test id. If None is given as id of specific test, the
automatically generated id for that argument will be used.
If callable, it should take one argument (a single argvalue) and return
a string or return None. If None, the automatically generated id for that
argument will be used.
If no ids are provided they will be generated automatically from
the argvalues.</p></li>
<li><p><strong>scope</strong> – if specified it denotes the scope of the parameters.
The scope is used for grouping tests by parameter instances.
It will also override any fixture-function defined scope, allowing
to set a dynamic scope using test context or configuration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module">
<h3><a class="toc-backref" href="#id75">Module</a><a class="headerlink" href="#module" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.python.Module">
<em class="property">class </em><code class="sig-name descname">Module</code><a class="reference internal" href="_modules/_pytest/python.html#Module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Module" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.File</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.python.PyCollector</span></code></p>
<p>Collector for test classes and functions.</p>
<dl class="method">
<dt id="_pytest.python.Module.collect">
<code class="sig-name descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/python.html#Module.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.python.Module.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="node">
<h3><a class="toc-backref" href="#id76">Node</a><a class="headerlink" href="#node" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.nodes.Node">
<em class="property">class </em><code class="sig-name descname">Node</code><a class="reference internal" href="_modules/_pytest/nodes.html#Node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>base class for Collector and Item the test collection tree.
Collector subclasses have children, Items are terminal nodes.</p>
<dl class="attribute">
<dt id="_pytest.nodes.Node.name">
<code class="sig-name descname">name</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.name" title="Permalink to this definition">¶</a></dt>
<dd><p>a unique name within the scope of the parent node</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.parent">
<code class="sig-name descname">parent</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>the parent collector node.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.config">
<code class="sig-name descname">config</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.config" title="Permalink to this definition">¶</a></dt>
<dd><p>the pytest config object</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.session">
<code class="sig-name descname">session</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.session" title="Permalink to this definition">¶</a></dt>
<dd><p>the session this node is part of</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.fspath">
<code class="sig-name descname">fspath</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.fspath" title="Permalink to this definition">¶</a></dt>
<dd><p>filesystem path where this node was collected from (can be None)</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.keywords">
<code class="sig-name descname">keywords</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>keywords/markers collected from all scopes</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.own_markers">
<code class="sig-name descname">own_markers</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.own_markers" title="Permalink to this definition">¶</a></dt>
<dd><p>the marker objects belonging to this node</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.nodes.Node.extra_keyword_matches">
<code class="sig-name descname">extra_keyword_matches</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.nodes.Node.extra_keyword_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>allow adding of extra keywords to use for matching</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.ihook">
<code class="sig-name descname">ihook</code><a class="headerlink" href="#_pytest.nodes.Node.ihook" title="Permalink to this definition">¶</a></dt>
<dd><p>fspath sensitive hook proxy used to call pytest hooks</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.warn">
<code class="sig-name descname">warn</code><span class="sig-paren">(</span><em class="sig-param">warning</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.warn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a warning for this item.</p>
<p>Warnings will be displayed after the test session, unless explicitly suppressed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>warning</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Warning" title="(in Python v3.7)"><em>Warning</em></a>) – the warning instance to issue. Must be a subclass of PytestWarning.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – if <code class="docutils literal notranslate"><span class="pre">warning</span></code> instance is not a subclass of PytestWarning.</p>
</dd>
</dl>
<p>Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">PytestWarning</span><span class="p">(</span><span class="s2">&quot;some message&quot;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.nodeid">
<code class="sig-name descname">nodeid</code><a class="headerlink" href="#_pytest.nodes.Node.nodeid" title="Permalink to this definition">¶</a></dt>
<dd><p>a ::-separated string denoting its collection tree address.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.listchain">
<code class="sig-name descname">listchain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.listchain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.listchain" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of all parent collectors up to self,
starting from root of collection tree.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.add_marker">
<code class="sig-name descname">add_marker</code><span class="sig-paren">(</span><em class="sig-param">marker</em>, <em class="sig-param">append=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.add_marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.add_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>dynamically add a marker object to the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>marker</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">pytest.mark.*</span></code>  object) – <code class="docutils literal notranslate"><span class="pre">append=True</span></code> whether to append the marker,
if <code class="docutils literal notranslate"><span class="pre">False</span></code> insert at position <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.iter_markers">
<code class="sig-name descname">iter_markers</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.iter_markers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.iter_markers" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – if given, filter the results by the name attribute</p>
</dd>
</dl>
<p>iterate over all markers of the node</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.iter_markers_with_node">
<em class="property">for ... in </em><code class="sig-name descname">iter_markers_with_node</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.iter_markers_with_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.iter_markers_with_node" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – if given, filter the results by the name attribute</p>
</dd>
</dl>
<p>iterate over all markers of the node
returns sequence of tuples (node, mark)</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.get_closest_marker">
<code class="sig-name descname">get_closest_marker</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.get_closest_marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.get_closest_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>return the first marker matching the name, from closest (for example function) to farther level (for example
module level).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default</strong> – fallback return value of no marker was found</p></li>
<li><p><strong>name</strong> – name to filter by</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.listextrakeywords">
<code class="sig-name descname">listextrakeywords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.listextrakeywords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.listextrakeywords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of all extra keywords in self and any parents.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.addfinalizer">
<code class="sig-name descname">addfinalizer</code><span class="sig-paren">(</span><em class="sig-param">fin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.addfinalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.addfinalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>register a function to be called when this node is finalized.</p>
<p>This method can only be called when this node is active
in a setup chain, for example during self.setup().</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.nodes.Node.getparent">
<code class="sig-name descname">getparent</code><span class="sig-paren">(</span><em class="sig-param">cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/nodes.html#Node.getparent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.nodes.Node.getparent" title="Permalink to this definition">¶</a></dt>
<dd><p>get the next parent node (including ourself)
which is an instance of the given class</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="parser">
<h3><a class="toc-backref" href="#id77">Parser</a><a class="headerlink" href="#parser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.argparsing.Parser">
<em class="property">class </em><code class="sig-name descname">Parser</code><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parser for command line arguments and ini-file values.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>extra_info</strong> – dict of generic param -&gt; value to display in case
there’s an error processing the command line arguments.</p>
</dd>
</dl>
<dl class="method">
<dt id="_pytest.config.argparsing.Parser.getgroup">
<code class="sig-name descname">getgroup</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">description=''</em>, <em class="sig-param">after=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.getgroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.getgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>get (or create) a named option Group.</p>
<dl class="field-list simple">
<dt class="field-odd">Name</dt>
<dd class="field-odd"><p>name of the option group.</p>
</dd>
<dt class="field-even">Description</dt>
<dd class="field-even"><p>long description for –help output.</p>
</dd>
<dt class="field-odd">After</dt>
<dd class="field-odd"><p>name of other group, used for ordering –help output.</p>
</dd>
</dl>
<p>The returned group object has an <code class="docutils literal notranslate"><span class="pre">addoption</span></code> method with the same
signature as <code class="xref py py-func docutils literal notranslate"><span class="pre">parser.addoption</span></code> but will be shown in the
respective group in the output of <code class="docutils literal notranslate"><span class="pre">pytest.</span> <span class="pre">--help</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.addoption">
<code class="sig-name descname">addoption</code><span class="sig-paren">(</span><em class="sig-param">*opts</em>, <em class="sig-param">**attrs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.addoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.addoption" title="Permalink to this definition">¶</a></dt>
<dd><p>register a command line option.</p>
<dl class="field-list simple">
<dt class="field-odd">Opts</dt>
<dd class="field-odd"><p>option names, can be short or long options.</p>
</dd>
<dt class="field-even">Attrs</dt>
<dd class="field-even"><p>same attributes which the <code class="docutils literal notranslate"><span class="pre">add_option()</span></code> function of the
<a class="reference external" href="http://docs.python.org/2/library/argparse.html">argparse library</a>
accepts.</p>
</dd>
</dl>
<p>After command line parsing options are available on the pytest config
object via <code class="docutils literal notranslate"><span class="pre">config.option.NAME</span></code> where <code class="docutils literal notranslate"><span class="pre">NAME</span></code> is usually set
by passing a <code class="docutils literal notranslate"><span class="pre">dest</span></code> attribute, for example
<code class="docutils literal notranslate"><span class="pre">addoption(&quot;--long&quot;,</span> <span class="pre">dest=&quot;NAME&quot;,</span> <span class="pre">...)</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.parse_known_args">
<code class="sig-name descname">parse_known_args</code><span class="sig-paren">(</span><em class="sig-param">args</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.parse_known_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.parse_known_args" title="Permalink to this definition">¶</a></dt>
<dd><p>parses and returns a namespace object with known arguments at this
point.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.parse_known_and_unknown_args">
<code class="sig-name descname">parse_known_and_unknown_args</code><span class="sig-paren">(</span><em class="sig-param">args</em>, <em class="sig-param">namespace=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.parse_known_and_unknown_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.parse_known_and_unknown_args" title="Permalink to this definition">¶</a></dt>
<dd><p>parses and returns a namespace object with known arguments, and
the remaining arguments unknown at this point.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.argparsing.Parser.addini">
<code class="sig-name descname">addini</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">help</em>, <em class="sig-param">type=None</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config/argparsing.html#Parser.addini"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.argparsing.Parser.addini" title="Permalink to this definition">¶</a></dt>
<dd><p>register an ini-file option.</p>
<dl class="field-list simple">
<dt class="field-odd">Name</dt>
<dd class="field-odd"><p>name of the ini-variable</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>type of the variable, can be <code class="docutils literal notranslate"><span class="pre">pathlist</span></code>, <code class="docutils literal notranslate"><span class="pre">args</span></code>, <code class="docutils literal notranslate"><span class="pre">linelist</span></code>
or <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>default value if no ini-file option exists but is queried.</p>
</dd>
</dl>
<p>The value of ini-variables can be retrieved via a call to
<a class="reference internal" href="#_pytest.config.Config.getini" title="_pytest.config.Config.getini"><code class="xref py py-func docutils literal notranslate"><span class="pre">config.getini(name)</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pluginmanager">
<h3><a class="toc-backref" href="#id78">PluginManager</a><a class="headerlink" href="#pluginmanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pluggy.PluginManager">
<em class="property">class </em><code class="sig-name descname">PluginManager</code><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Core Pluginmanager class which manages registration
of plugin objects and 1:N hook calling.</p>
<p>You can register new hooks by calling <code class="docutils literal notranslate"><span class="pre">add_hookspecs(module_or_class)</span></code>.
You can register plugin objects (which contain hooks) by calling
<code class="docutils literal notranslate"><span class="pre">register(plugin)</span></code>.  The Pluginmanager is initialized with a
prefix that is searched for in the names of the dict of registered
plugin objects.</p>
<p>For debugging purposes you can call <code class="docutils literal notranslate"><span class="pre">enable_tracing()</span></code>
which will subsequently send debug information to the trace helper.</p>
<dl class="method">
<dt id="pluggy.PluginManager.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param">plugin</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a plugin and return its canonical name or None if the name
is blocked from registering.  Raise a ValueError if the plugin is already
registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.unregister">
<code class="sig-name descname">unregister</code><span class="sig-paren">(</span><em class="sig-param">plugin=None</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>unregister a plugin object and all its contained hook implementations
from internal data structures.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.set_blocked">
<code class="sig-name descname">set_blocked</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.set_blocked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.set_blocked" title="Permalink to this definition">¶</a></dt>
<dd><p>block registrations of the given name, unregister if already registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.is_blocked">
<code class="sig-name descname">is_blocked</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.is_blocked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.is_blocked" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if the given plugin name is blocked.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.add_hookspecs">
<code class="sig-name descname">add_hookspecs</code><span class="sig-paren">(</span><em class="sig-param">module_or_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.add_hookspecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.add_hookspecs" title="Permalink to this definition">¶</a></dt>
<dd><p>add new hook specifications defined in the given module_or_class.
Functions are recognized if they have been decorated accordingly.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_plugins">
<code class="sig-name descname">get_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>return the set of registered plugins.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.is_registered">
<code class="sig-name descname">is_registered</code><span class="sig-paren">(</span><em class="sig-param">plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.is_registered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.is_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the plugin is already registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_canonical_name">
<code class="sig-name descname">get_canonical_name</code><span class="sig-paren">(</span><em class="sig-param">plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_canonical_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_canonical_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return canonical name for a plugin object. Note that a plugin
may be registered under a different name which was specified
by the caller of register(plugin, name). To obtain the name
of an registered plugin use <code class="docutils literal notranslate"><span class="pre">get_name(plugin)</span></code> instead.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_plugin">
<code class="sig-name descname">get_plugin</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a plugin or None for the given name.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.has_plugin">
<code class="sig-name descname">has_plugin</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.has_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.has_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if a plugin with the given name is registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_name">
<code class="sig-name descname">get_name</code><span class="sig-paren">(</span><em class="sig-param">plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return name for registered plugin or None if not registered.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.check_pending">
<code class="sig-name descname">check_pending</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.check_pending"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.check_pending" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that all hooks which have not been verified against
a hook specification are optional, otherwise raise PluginValidationError</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.load_setuptools_entrypoints">
<code class="sig-name descname">load_setuptools_entrypoints</code><span class="sig-paren">(</span><em class="sig-param">group</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.load_setuptools_entrypoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.load_setuptools_entrypoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Load modules from querying the specified setuptools <code class="docutils literal notranslate"><span class="pre">group</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – entry point group to load plugins</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – if given, loads only plugins with the given <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>return the number of loaded plugins by this call.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.list_plugin_distinfo">
<code class="sig-name descname">list_plugin_distinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.list_plugin_distinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.list_plugin_distinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of distinfo/plugin tuples for all setuptools registered
plugins.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.list_name_plugin">
<code class="sig-name descname">list_name_plugin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.list_name_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.list_name_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of name/plugin pairs.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.get_hookcallers">
<code class="sig-name descname">get_hookcallers</code><span class="sig-paren">(</span><em class="sig-param">plugin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.get_hookcallers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.get_hookcallers" title="Permalink to this definition">¶</a></dt>
<dd><p>get all hook callers for the specified plugin.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.add_hookcall_monitoring">
<code class="sig-name descname">add_hookcall_monitoring</code><span class="sig-paren">(</span><em class="sig-param">before</em>, <em class="sig-param">after</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.add_hookcall_monitoring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.add_hookcall_monitoring" title="Permalink to this definition">¶</a></dt>
<dd><p>add before/after tracing functions for all hooks
and return an undo function which, when called,
will remove the added tracers.</p>
<p><code class="docutils literal notranslate"><span class="pre">before(hook_name,</span> <span class="pre">hook_impls,</span> <span class="pre">kwargs)</span></code> will be called ahead
of all hook calls and receive a hookcaller instance, a list
of HookImpl instances and the keyword arguments for the hook call.</p>
<p><code class="docutils literal notranslate"><span class="pre">after(outcome,</span> <span class="pre">hook_name,</span> <span class="pre">hook_impls,</span> <span class="pre">kwargs)</span></code> receives the
same arguments as <code class="docutils literal notranslate"><span class="pre">before</span></code> but also a <code class="xref py py-class docutils literal notranslate"><span class="pre">_Result`</span></code> object
which represents the result of the overall hook call.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.enable_tracing">
<code class="sig-name descname">enable_tracing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.enable_tracing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.enable_tracing" title="Permalink to this definition">¶</a></dt>
<dd><p>enable tracing of hook calls and return an undo function.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.PluginManager.subset_hook_caller">
<code class="sig-name descname">subset_hook_caller</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">remove_plugins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/manager.html#PluginManager.subset_hook_caller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.PluginManager.subset_hook_caller" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new _HookCaller instance for the named method
which manages calls to all registered plugins except the
ones from remove_plugins.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pytestpluginmanager">
<h3><a class="toc-backref" href="#id79">PytestPluginManager</a><a class="headerlink" href="#pytestpluginmanager" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.PytestPluginManager">
<em class="property">class </em><code class="sig-name descname">PytestPluginManager</code><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pluggy.manager.PluginManager</span></code></p>
<p>Overwrites <a class="reference internal" href="#pluggy.PluginManager" title="pluggy.PluginManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">pluggy.PluginManager</span></code></a> to add pytest-specific
functionality:</p>
<ul class="simple">
<li><p>loading plugins from the command line, <code class="docutils literal notranslate"><span class="pre">PYTEST_PLUGINS</span></code> env variable and
<code class="docutils literal notranslate"><span class="pre">pytest_plugins</span></code> global variables found in plugins being loaded;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> loading during start-up;</p></li>
</ul>
<dl class="method">
<dt id="_pytest.config.PytestPluginManager.parse_hookimpl_opts">
<code class="sig-name descname">parse_hookimpl_opts</code><span class="sig-paren">(</span><em class="sig-param">plugin</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.parse_hookimpl_opts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.parse_hookimpl_opts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.parse_hookspec_opts">
<code class="sig-name descname">parse_hookspec_opts</code><span class="sig-paren">(</span><em class="sig-param">module_or_class</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.parse_hookspec_opts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.parse_hookspec_opts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param">plugin</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a plugin and return its canonical name or None if the name
is blocked from registering.  Raise a ValueError if the plugin is already
registered.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.getplugin">
<code class="sig-name descname">getplugin</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.getplugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.getplugin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.hasplugin">
<code class="sig-name descname">hasplugin</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.hasplugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.hasplugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the plugin with the given name is registered.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.pytest_configure">
<code class="sig-name descname">pytest_configure</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.pytest_configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.pytest_configure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_preparse">
<code class="sig-name descname">consider_preparse</code><span class="sig-paren">(</span><em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_preparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_preparse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_pluginarg">
<code class="sig-name descname">consider_pluginarg</code><span class="sig-paren">(</span><em class="sig-param">arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_pluginarg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_pluginarg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_conftest">
<code class="sig-name descname">consider_conftest</code><span class="sig-paren">(</span><em class="sig-param">conftestmodule</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_conftest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_conftest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_env">
<code class="sig-name descname">consider_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_env" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.consider_module">
<code class="sig-name descname">consider_module</code><span class="sig-paren">(</span><em class="sig-param">mod</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.consider_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.consider_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="_pytest.config.PytestPluginManager.import_plugin">
<code class="sig-name descname">import_plugin</code><span class="sig-paren">(</span><em class="sig-param">modname</em>, <em class="sig-param">consider_entry_points=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/config.html#PytestPluginManager.import_plugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.PytestPluginManager.import_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports a plugin with <code class="docutils literal notranslate"><span class="pre">modname</span></code>. If <code class="docutils literal notranslate"><span class="pre">consider_entry_points</span></code> is True, entry point
names are also considered to find a plugin.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="session">
<h3><a class="toc-backref" href="#id80">Session</a><a class="headerlink" href="#session" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.main.Session">
<em class="property">class </em><code class="sig-name descname">Session</code><a class="reference internal" href="_modules/_pytest/main.html#Session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.main.Session" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#_pytest.nodes.FSCollector" title="_pytest.nodes.FSCollector"><code class="xref py py-class docutils literal notranslate"><span class="pre">_pytest.nodes.FSCollector</span></code></a></p>
<dl class="exception">
<dt id="_pytest.main.Session.Interrupted">
<em class="property">exception </em><code class="sig-name descname">Interrupted</code><a class="headerlink" href="#_pytest.main.Session.Interrupted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a></p>
<p>signals an interrupted test run.</p>
</dd></dl>

<dl class="exception">
<dt id="_pytest.main.Session.Failed">
<em class="property">exception </em><code class="sig-name descname">Failed</code><a class="headerlink" href="#_pytest.main.Session.Failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>signals a stop as failed test run.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.main.Session.collect">
<em class="property">for ... in </em><code class="sig-name descname">collect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/main.html#Session.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.main.Session.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of children (items and collectors)
for this collection node.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="testreport">
<h3><a class="toc-backref" href="#id81">TestReport</a><a class="headerlink" href="#testreport" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.runner.TestReport">
<em class="property">class </em><code class="sig-name descname">TestReport</code><a class="reference internal" href="_modules/_pytest/reports.html#TestReport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.runner.TestReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic test report object (also used for setup and teardown calls if
they fail).</p>
<dl class="attribute">
<dt id="_pytest.runner.TestReport.nodeid">
<code class="sig-name descname">nodeid</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.nodeid" title="Permalink to this definition">¶</a></dt>
<dd><p>normalized collection node id</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.location">
<code class="sig-name descname">location</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.location" title="Permalink to this definition">¶</a></dt>
<dd><p>a (filesystempath, lineno, domaininfo) tuple indicating the
actual location of a test item - it might be different from the
collected one e.g. if a method is inherited from a different module.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.keywords">
<code class="sig-name descname">keywords</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>a name -&gt; value dictionary containing all keywords and
markers associated with a test invocation.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.outcome">
<code class="sig-name descname">outcome</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.outcome" title="Permalink to this definition">¶</a></dt>
<dd><p>test outcome, always one of “passed”, “failed”, “skipped”.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.longrepr">
<code class="sig-name descname">longrepr</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.longrepr" title="Permalink to this definition">¶</a></dt>
<dd><p>None or a failure representation.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.when">
<code class="sig-name descname">when</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.when" title="Permalink to this definition">¶</a></dt>
<dd><p>one of ‘setup’, ‘call’, ‘teardown’ to indicate runtest phase.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.user_properties">
<code class="sig-name descname">user_properties</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.user_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>user properties is a list of tuples (name, value) that holds user
defined properties of the test</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.sections">
<code class="sig-name descname">sections</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.sections" title="Permalink to this definition">¶</a></dt>
<dd><p>list of pairs <code class="docutils literal notranslate"><span class="pre">(str,</span> <span class="pre">str)</span></code> of extra information which needs to
marshallable. Used by pytest to add captured text
from <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code>, but may be used by other plugins
to add arbitrary information to reports.</p>
</dd></dl>

<dl class="attribute">
<dt id="_pytest.runner.TestReport.duration">
<code class="sig-name descname">duration</code><em class="property"> = None</em><a class="headerlink" href="#_pytest.runner.TestReport.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>time it took to run just the test</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.from_item_and_call">
<em class="property">classmethod </em><code class="sig-name descname">from_item_and_call</code><span class="sig-paren">(</span><em class="sig-param">item</em>, <em class="sig-param">call</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/_pytest/reports.html#TestReport.from_item_and_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.runner.TestReport.from_item_and_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method to create and fill a TestReport with standard item and call info.</p>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.caplog">
<code class="sig-name descname">caplog</code><a class="headerlink" href="#_pytest.runner.TestReport.caplog" title="Permalink to this definition">¶</a></dt>
<dd><p>Return captured log lines, if log capturing is enabled</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.5.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.capstderr">
<code class="sig-name descname">capstderr</code><a class="headerlink" href="#_pytest.runner.TestReport.capstderr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return captured text from stderr, if capturing is enabled</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.capstdout">
<code class="sig-name descname">capstdout</code><a class="headerlink" href="#_pytest.runner.TestReport.capstdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Return captured text from stdout, if capturing is enabled</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.count_towards_summary">
<code class="sig-name descname">count_towards_summary</code><a class="headerlink" href="#_pytest.runner.TestReport.count_towards_summary" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Experimental</strong></p>
<p>Returns True if this report should be counted towards the totals shown at the end of the
test session: “1 passed, 1 failure, etc”.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is considered <strong>experimental</strong>, so beware that it is subject to changes
even in patch releases.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.head_line">
<code class="sig-name descname">head_line</code><a class="headerlink" href="#_pytest.runner.TestReport.head_line" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Experimental</strong></p>
<p>Returns the head line shown with longrepr output for this report, more commonly during
traceback representation during failures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">________</span> <span class="n">Test</span><span class="o">.</span><span class="n">foo</span> <span class="n">________</span>
</pre></div>
</div>
<p>In the example above, the head_line is “Test.foo”.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is considered <strong>experimental</strong>, so beware that it is subject to changes
even in patch releases.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="_pytest.runner.TestReport.longreprtext">
<code class="sig-name descname">longreprtext</code><a class="headerlink" href="#_pytest.runner.TestReport.longreprtext" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property that returns the full string representation
of <code class="docutils literal notranslate"><span class="pre">longrepr</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.</span></p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="result">
<h3><a class="toc-backref" href="#id82">_Result</a><a class="headerlink" href="#result" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pluggy.callers._Result">
<em class="property">class </em><code class="sig-name descname">_Result</code><span class="sig-paren">(</span><em class="sig-param">result</em>, <em class="sig-param">excinfo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/callers.html#_Result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.callers._Result" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pluggy.callers._Result.result">
<code class="sig-name descname">result</code><a class="headerlink" href="#pluggy.callers._Result.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the result(s) for this hook call (DEPRECATED in favor of <code class="docutils literal notranslate"><span class="pre">get_result()</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.callers._Result.force_result">
<code class="sig-name descname">force_result</code><span class="sig-paren">(</span><em class="sig-param">result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/callers.html#_Result.force_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.callers._Result.force_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Force the result(s) to <code class="docutils literal notranslate"><span class="pre">result</span></code>.</p>
<p>If the hook was marked as a <code class="docutils literal notranslate"><span class="pre">firstresult</span></code> a single value should
be set otherwise set a (modified) list of results. Any exceptions
found during invocation will be deleted.</p>
</dd></dl>

<dl class="method">
<dt id="pluggy.callers._Result.get_result">
<code class="sig-name descname">get_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pluggy/callers.html#_Result.get_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pluggy.callers._Result.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the result(s) for this hook call.</p>
<p>If the hook was marked as a <code class="docutils literal notranslate"><span class="pre">firstresult</span></code> only a single value
will be returned otherwise a list of results.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="special-variables">
<h2><a class="toc-backref" href="#id83">Special Variables</a><a class="headerlink" href="#special-variables" title="Permalink to this headline">¶</a></h2>
<p>pytest treats some global variables in a special manner when defined in a test module.</p>
<div class="section" id="collect-ignore">
<h3><a class="toc-backref" href="#id84">collect_ignore</a><a class="headerlink" href="#collect-ignore" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/pythoncollection.html#customizing-test-collection"><span class="std std-ref">Customizing test collection</span></a></p>
<p>Can be declared in <em>conftest.py files</em> to exclude test directories or modules.
Needs to be <code class="docutils literal notranslate"><span class="pre">list[str]</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">collect_ignore</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;setup.py&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="collect-ignore-glob">
<h3><a class="toc-backref" href="#id85">collect_ignore_glob</a><a class="headerlink" href="#collect-ignore-glob" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/pythoncollection.html#customizing-test-collection"><span class="std std-ref">Customizing test collection</span></a></p>
<p>Can be declared in <em>conftest.py files</em> to exclude test directories or modules
with Unix shell-style wildcards. Needs to be <code class="docutils literal notranslate"><span class="pre">list[str]</span></code> where <code class="docutils literal notranslate"><span class="pre">str</span></code> can
contain glob patterns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">collect_ignore_glob</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;*_ignore.py&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="pytest-plugins">
<h3><a class="toc-backref" href="#id86">pytest_plugins</a><a class="headerlink" href="#pytest-plugins" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="plugins.html#available-installable-plugins"><span class="std std-ref">Requiring/Loading plugins in a test module or conftest file</span></a></p>
<p>Can be declared at the <strong>global</strong> level in <em>test modules</em> and <em>conftest.py files</em> to register additional plugins.
Can be either a <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">Sequence[str]</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="s2">&quot;myapp.testsupport.myplugin&quot;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pytest_plugins</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;myapp.testsupport.tools&quot;</span><span class="p">,</span> <span class="s2">&quot;myapp.testsupport.regression&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pytest-mark">
<h3><a class="toc-backref" href="#id87">pytest_mark</a><a class="headerlink" href="#pytest-mark" title="Permalink to this headline">¶</a></h3>
<p><strong>Tutorial</strong>: <a class="reference internal" href="example/markers.html#scoped-marking"><span class="std std-ref">Marking whole classes or modules</span></a></p>
<p>Can be declared at the <strong>global</strong> level in <em>test modules</em> to apply one or more <a class="reference internal" href="#marks-ref"><span class="std std-ref">marks</span></a> to all
test functions and methods. Can be either a single mark or a list of marks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">webtest</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="p">[</span><span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">integration</span><span class="p">,</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">slow</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="pytest-dont-rewrite-module-docstring">
<h3><a class="toc-backref" href="#id88">PYTEST_DONT_REWRITE (module docstring)</a><a class="headerlink" href="#pytest-dont-rewrite-module-docstring" title="Permalink to this headline">¶</a></h3>
<p>The text <code class="docutils literal notranslate"><span class="pre">PYTEST_DONT_REWRITE</span></code> can be add to any <strong>module docstring</strong> to disable
<a class="reference internal" href="assert.html#assert-introspection"><span class="std std-ref">assertion rewriting</span></a> for that module.</p>
</div>
</div>
<div class="section" id="environment-variables">
<h2><a class="toc-backref" href="#id89">Environment Variables</a><a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Environment variables that can be used to change pytest’s behavior.</p>
<div class="section" id="pytest-addopts">
<h3><a class="toc-backref" href="#id90">PYTEST_ADDOPTS</a><a class="headerlink" href="#pytest-addopts" title="Permalink to this headline">¶</a></h3>
<p>This contains a command-line (parsed by the py:mod:<cite>shlex</cite> module) that will be <strong>prepended</strong> to the command line given
by the user, see <a class="reference internal" href="customize.html#adding-default-options"><span class="std std-ref">How to change command line options defaults</span></a> for more information.</p>
</div>
<div class="section" id="pytest-debug">
<h3><a class="toc-backref" href="#id91">PYTEST_DEBUG</a><a class="headerlink" href="#pytest-debug" title="Permalink to this headline">¶</a></h3>
<p>When set, pytest will print tracing and debug information.</p>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id92">PYTEST_PLUGINS</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Contains comma-separated list of modules that should be loaded as plugins:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PYTEST_PLUGINS</span><span class="o">=</span>mymodule.plugin,xdist
</pre></div>
</div>
</div>
<div class="section" id="pytest-disable-plugin-autoload">
<h3><a class="toc-backref" href="#id93">PYTEST_DISABLE_PLUGIN_AUTOLOAD</a><a class="headerlink" href="#pytest-disable-plugin-autoload" title="Permalink to this headline">¶</a></h3>
<p>When set, disables plugin auto-loading through setuptools entrypoints. Only explicitly specified plugins will be
loaded.</p>
</div>
<div class="section" id="pytest-current-test">
<h3><a class="toc-backref" href="#id94">PYTEST_CURRENT_TEST</a><a class="headerlink" href="#pytest-current-test" title="Permalink to this headline">¶</a></h3>
<p>This is not meant to be set by users, but is set by pytest internally with the name of the current test so other
processes can inspect it, see <a class="reference internal" href="example/simple.html#pytest-current-test-env"><span class="std std-ref">PYTEST_CURRENT_TEST environment variable</span></a> for more information.</p>
</div>
</div>
<div class="section" id="exceptions">
<h2><a class="toc-backref" href="#id95">Exceptions</a><a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="usageerror">
<h3><a class="toc-backref" href="#id96">UsageError</a><a class="headerlink" href="#usageerror" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_pytest.config.UsageError">
<em class="property">class </em><code class="sig-name descname">UsageError</code><a class="reference internal" href="_modules/_pytest/config/exceptions.html#UsageError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#_pytest.config.UsageError" title="Permalink to this definition">¶</a></dt>
<dd><p>error in pytest usage or invocation</p>
</dd></dl>

</div>
</div>
<div class="section" id="configuration-options">
<span id="ini-options-ref"></span><h2><a class="toc-backref" href="#id97">Configuration Options</a><a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>Here is a list of builtin configuration options that may be written in a <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code>, <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> or <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>
file, usually located at the root of your repository. All options must be under a <code class="docutils literal notranslate"><span class="pre">[pytest]</span></code> section
(<code class="docutils literal notranslate"><span class="pre">[tool:pytest]</span></code> for <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> files).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Usage of <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> is not recommended unless for very simple use cases. <code class="docutils literal notranslate"><span class="pre">.cfg</span></code>
files use a different parser than <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code> and <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> which might cause hard to track
down problems.
When possible, it is recommended to use the latter files to hold your pytest configuration.</p>
</div>
<p>Configuration file options may be overwritten in the command-line by using <code class="docutils literal notranslate"><span class="pre">-o/--override</span></code>, which can also be
passed multiple times. The expected format is <code class="docutils literal notranslate"><span class="pre">name=value</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">-</span><span class="n">o</span> <span class="n">console_output_style</span><span class="o">=</span><span class="n">classic</span> <span class="o">-</span><span class="n">o</span> <span class="n">cache_dir</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">mycache</span>
</pre></div>
</div>
<dl class="confval">
<dt id="confval-addopts">
<code class="sig-name descname">addopts</code><a class="headerlink" href="#confval-addopts" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the specified <code class="docutils literal notranslate"><span class="pre">OPTS</span></code> to the set of command line arguments as if they
had been specified by the user. Example: if you have this ini file content:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">addopts</span> <span class="o">=</span> <span class="s">--maxfail=2 -rf  # exit after 2 failures, report fail info</span>
</pre></div>
</div>
<p>issuing <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">test_hello.py</span></code> actually means:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">--</span><span class="n">maxfail</span><span class="o">=</span><span class="mi">2</span> <span class="o">-</span><span class="n">rf</span> <span class="n">test_hello</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Default is to add no options.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-cache_dir">
<code class="sig-name descname">cache_dir</code><a class="headerlink" href="#confval-cache_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a directory where stores content of cache plugin. Default directory is
<code class="docutils literal notranslate"><span class="pre">.pytest_cache</span></code> which is created in <a class="reference internal" href="customize.html#rootdir"><span class="std std-ref">rootdir</span></a>. Directory may be
relative or absolute path. If setting relative path, then directory is created
relative to <a class="reference internal" href="customize.html#rootdir"><span class="std std-ref">rootdir</span></a>. Additionally path may contain environment
variables, that will be expanded. For more information about cache plugin
please refer to <a class="reference internal" href="cache.html#cache-provider"><span class="std std-ref">Cache: working with cross-testrun state</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-confcutdir">
<code class="sig-name descname">confcutdir</code><a class="headerlink" href="#confval-confcutdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a directory where search upwards for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files stops.
By default, pytest will stop searching for <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> files upwards
from <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code>/<code class="docutils literal notranslate"><span class="pre">tox.ini</span></code>/<code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> of the project if any,
or up to the file-system root.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-console_output_style">
<code class="sig-name descname">console_output_style</code><a class="headerlink" href="#confval-console_output_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the console output style while running tests:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">classic</span></code>: classic pytest output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">progress</span></code>: like classic pytest output, but with a progress indicator.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: like progress, but shows progress as the number of tests completed instead of a percent.</p></li>
</ul>
<p>The default is <code class="docutils literal notranslate"><span class="pre">progress</span></code>, but you can fallback to <code class="docutils literal notranslate"><span class="pre">classic</span></code> if you prefer or
the new mode is causing unexpected problems:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">console_output_style</span> <span class="o">=</span> <span class="s">classic</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-doctest_encoding">
<code class="sig-name descname">doctest_encoding</code><a class="headerlink" href="#confval-doctest_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Default encoding to use to decode text files with docstrings.
<a class="reference internal" href="doctest.html"><span class="doc">See how pytest handles doctests</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-doctest_optionflags">
<code class="sig-name descname">doctest_optionflags</code><a class="headerlink" href="#confval-doctest_optionflags" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more doctest flag names from the standard <code class="docutils literal notranslate"><span class="pre">doctest</span></code> module.
<a class="reference internal" href="doctest.html"><span class="doc">See how pytest handles doctests</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-empty_parameter_set_mark">
<code class="sig-name descname">empty_parameter_set_mark</code><a class="headerlink" href="#confval-empty_parameter_set_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to pick the action for empty parametersets in parameterization</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">skip</span></code> skips tests with an empty parameterset (default)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xfail</span></code> marks tests with an empty parameterset as xfail(run=False)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fail_at_collect</span></code> raises an exception if parametrize collects an empty parameter set</p></li>
</ul>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">empty_parameter_set_mark</span> <span class="o">=</span> <span class="s">xfail</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default value of this option is planned to change to <code class="docutils literal notranslate"><span class="pre">xfail</span></code> in future releases
as this is considered less error prone, see <a class="reference external" href="https://github.com/pytest-dev/pytest/issues/3155">#3155</a>
for more details.</p>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-faulthandler_timeout">
<code class="sig-name descname">faulthandler_timeout</code><a class="headerlink" href="#confval-faulthandler_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps the tracebacks of all threads if a test takes longer than <code class="docutils literal notranslate"><span class="pre">X</span></code> seconds to run (including
fixture setup and teardown). Implemented using the <a class="reference external" href="https://docs.python.org/3/library/faulthandler.html#faulthandler.dump_traceback_later">faulthandler.dump_traceback_later</a> function,
so all caveats there apply.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">faulthandler_timeout</span><span class="o">=</span><span class="s">5</span>
</pre></div>
</div>
<p>For more information please refer to <a class="reference internal" href="usage.html#faulthandler"><span class="std std-ref">Fault Handler</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-filterwarnings">
<code class="sig-name descname">filterwarnings</code><a class="headerlink" href="#confval-filterwarnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a list of filters and actions that should be taken for matched
warnings. By default all warnings emitted during the test session
will be displayed in a summary at the end of the test session.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">filterwarnings</span> <span class="o">=</span><span class="s"></span>
<span class="s">    error</span>
<span class="s">    ignore::DeprecationWarning</span>
</pre></div>
</div>
<p>This tells pytest to ignore deprecation warnings and turn all other warnings
into errors. For more information please refer to <a class="reference internal" href="warnings.html#warnings"><span class="std std-ref">Warnings Capture</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-junit_duration_report">
<code class="sig-name descname">junit_duration_report</code><a class="headerlink" href="#confval-junit_duration_report" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 4.1.</span></p>
</div>
<p>Configures how durations are recorded into the JUnit XML report:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">total</span></code> (the default): duration times reported include setup, call, and teardown times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">call</span></code>: duration times reported include only call times, excluding setup and teardown.</p></li>
</ul>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">junit_duration_report</span> <span class="o">=</span> <span class="s">call</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-junit_family">
<code class="sig-name descname">junit_family</code><a class="headerlink" href="#confval-junit_family" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 4.2.</span></p>
</div>
<p>Configures the format of the generated JUnit XML file. The possible options are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xunit1</span></code> (or <code class="docutils literal notranslate"><span class="pre">legacy</span></code>): produces old style output, compatible with the xunit 1.0 format. <strong>This is the default</strong>.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">xunit2</span></code>: produces <a class="reference external" href="https://github.com/jenkinsci/xunit-plugin/blob/xunit-2.3.2/src/main/resources/org/jenkinsci/plugins/xunit/types/model/xsd/junit-10.xsd">xunit 2.0 style output</a>,</dt><dd><p>which should be more compatible with latest Jenkins versions.</p>
</dd>
</dl>
</li>
</ul>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">junit_family</span> <span class="o">=</span> <span class="s">xunit2</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-junit_logging">
<code class="sig-name descname">junit_logging</code><a class="headerlink" href="#confval-junit_logging" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 3.5.</span></p>
</div>
<p>Configures if stdout/stderr should be written to the JUnit XML file. Valid values are
<code class="docutils literal notranslate"><span class="pre">system-out</span></code>, <code class="docutils literal notranslate"><span class="pre">system-err</span></code>, and <code class="docutils literal notranslate"><span class="pre">no</span></code> (the default).</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">junit_logging</span> <span class="o">=</span> <span class="s">system-out</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-junit_log_passing_tests">
<code class="sig-name descname">junit_log_passing_tests</code><a class="headerlink" href="#confval-junit_log_passing_tests" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 4.6.</span></p>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">junit_logging</span> <span class="pre">!=</span> <span class="pre">&quot;no&quot;</span></code>, configures if the captured output should be written
to the JUnit XML file for <strong>passing</strong> tests. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">junit_log_passing_tests</span> <span class="o">=</span> <span class="s">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-junit_suite_name">
<code class="sig-name descname">junit_suite_name</code><a class="headerlink" href="#confval-junit_suite_name" title="Permalink to this definition">¶</a></dt>
<dd><p>To set the name of the root test suite xml item, you can configure the <code class="docutils literal notranslate"><span class="pre">junit_suite_name</span></code> option in your config file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">junit_suite_name</span> <span class="o">=</span> <span class="s">my_suite</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-log_cli_date_format">
<code class="sig-name descname">log_cli_date_format</code><a class="headerlink" href="#confval-log_cli_date_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a>-compatible string that will be used when formatting dates for live logging.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_cli_date_format</span> <span class="o">=</span> <span class="s">%Y-%m-%d %H:%M:%S</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#live-logs"><span class="std std-ref">Live Logs</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_cli_format">
<code class="sig-name descname">log_cli_format</code><a class="headerlink" href="#confval-log_cli_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>-compatible string used to format live logging messages.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_cli_format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)s %(message)s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#live-logs"><span class="std std-ref">Live Logs</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_cli_level">
<code class="sig-name descname">log_cli_level</code><a class="headerlink" href="#confval-log_cli_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the minimum log message level that should be captured for live logging. The integer value or
the names of the levels can be used.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_cli_level</span> <span class="o">=</span> <span class="s">INFO</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#live-logs"><span class="std std-ref">Live Logs</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_date_format">
<code class="sig-name descname">log_date_format</code><a class="headerlink" href="#confval-log_date_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a>-compatible string that will be used when formatting dates for logging capture.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_date_format</span> <span class="o">=</span> <span class="s">%Y-%m-%d %H:%M:%S</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file">
<code class="sig-name descname">log_file</code><a class="headerlink" href="#confval-log_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a file name relative to the <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code> file where log messages should be written to, in addition
to the other logging facilities that are active.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file</span> <span class="o">=</span> <span class="s">logs/pytest-logs.txt</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file_date_format">
<code class="sig-name descname">log_file_date_format</code><a class="headerlink" href="#confval-log_file_date_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a <a class="reference external" href="https://docs.python.org/3/library/time.html#time.strftime" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.strftime()</span></code></a>-compatible string that will be used when formatting dates for the logging file.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file_date_format</span> <span class="o">=</span> <span class="s">%Y-%m-%d %H:%M:%S</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file_format">
<code class="sig-name descname">log_file_format</code><a class="headerlink" href="#confval-log_file_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>-compatible string used to format logging messages redirected to the logging file.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file_format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)s %(message)s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_file_level">
<code class="sig-name descname">log_file_level</code><a class="headerlink" href="#confval-log_file_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the minimum log message level that should be captured for the logging file. The integer value or
the names of the levels can be used.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_file_level</span> <span class="o">=</span> <span class="s">INFO</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_format">
<code class="sig-name descname">log_format</code><a class="headerlink" href="#confval-log_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>-compatible string used to format captured logging messages.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_format</span> <span class="o">=</span> <span class="s">%(asctime)s %(levelname)s %(message)s</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_level">
<code class="sig-name descname">log_level</code><a class="headerlink" href="#confval-log_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the minimum log message level that should be captured for logging capture. The integer value or
the names of the levels can be used.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_level</span> <span class="o">=</span> <span class="s">INFO</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-log_print">
<code class="sig-name descname">log_print</code><a class="headerlink" href="#confval-log_print" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, will disable displaying captured logging messages for failed tests.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">log_print</span> <span class="o">=</span> <span class="s">False</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="logging.html#logging"><span class="std std-ref">Logging</span></a>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-markers">
<code class="sig-name descname">markers</code><a class="headerlink" href="#confval-markers" title="Permalink to this definition">¶</a></dt>
<dd><p>When the <code class="docutils literal notranslate"><span class="pre">--strict-markers</span></code> or <code class="docutils literal notranslate"><span class="pre">--strict</span></code> command-line arguments are used,
only known markers - defined in code by core pytest or some plugin - are allowed.</p>
<p>You can list additional markers in this setting to add them to the whitelist,
in which case you probably want to add <code class="docutils literal notranslate"><span class="pre">--strict-markers</span></code> to <code class="docutils literal notranslate"><span class="pre">addopts</span></code>
to avoid future regressions:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">addopts</span> <span class="o">=</span> <span class="s">--strict-markers</span>
<span class="na">markers</span> <span class="o">=</span><span class="s"></span>
<span class="s">    slow</span>
<span class="s">    serial</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-minversion">
<code class="sig-name descname">minversion</code><a class="headerlink" href="#confval-minversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies a minimal pytest version required for running tests.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">minversion</span> <span class="o">=</span> <span class="s">3.0  # will fail if we run with pytest-2.8</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-norecursedirs">
<code class="sig-name descname">norecursedirs</code><a class="headerlink" href="#confval-norecursedirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the directory basename patterns to avoid when recursing
for test discovery.  The individual (fnmatch-style) patterns are
applied to the basename of a directory to decide if to recurse into it.
Pattern matching characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>*       matches everything
?       matches any single character
[seq]   matches any character in seq
[!seq]  matches any char not in seq
</pre></div>
</div>
<p>Default patterns are <code class="docutils literal notranslate"><span class="pre">'.*',</span> <span class="pre">'build',</span> <span class="pre">'dist',</span> <span class="pre">'CVS',</span> <span class="pre">'_darcs',</span> <span class="pre">'{arch}',</span> <span class="pre">'*.egg',</span> <span class="pre">'venv'</span></code>.
Setting a <code class="docutils literal notranslate"><span class="pre">norecursedirs</span></code> replaces the default.  Here is an example of
how to avoid certain directories:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">norecursedirs</span> <span class="o">=</span> <span class="s">.svn _build tmp*</span>
</pre></div>
</div>
<p>This would tell <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to not look into typical subversion or
sphinx-build directories or into any <code class="docutils literal notranslate"><span class="pre">tmp</span></code> prefixed directory.</p>
<p>Additionally, <code class="docutils literal notranslate"><span class="pre">pytest</span></code> will attempt to intelligently identify and ignore a
virtualenv by the presence of an activation script.  Any directory deemed to
be the root of a virtual environment will not be considered during test
collection unless <code class="docutils literal notranslate"><span class="pre">‑‑collect‑in‑virtualenv</span></code> is given.  Note also that
<code class="docutils literal notranslate"><span class="pre">norecursedirs</span></code> takes precedence over <code class="docutils literal notranslate"><span class="pre">‑‑collect‑in‑virtualenv</span></code>; e.g. if
you intend to run tests in a virtualenv with a base directory that matches
<code class="docutils literal notranslate"><span class="pre">'.*'</span></code> you <em>must</em> override <code class="docutils literal notranslate"><span class="pre">norecursedirs</span></code> in addition to using the
<code class="docutils literal notranslate"><span class="pre">‑‑collect‑in‑virtualenv</span></code> flag.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-python_classes">
<code class="sig-name descname">python_classes</code><a class="headerlink" href="#confval-python_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more name prefixes or glob-style patterns determining which classes
are considered for test collection. Search for multiple glob patterns by
adding a space between patterns. By default, pytest will consider any
class prefixed with <code class="docutils literal notranslate"><span class="pre">Test</span></code> as a test collection.  Here is an example of how
to collect tests from classes that end in <code class="docutils literal notranslate"><span class="pre">Suite</span></code>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_classes</span> <span class="o">=</span> <span class="s">*Suite</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code> derived classes are always collected
regardless of this option, as <code class="docutils literal notranslate"><span class="pre">unittest</span></code>’s own collection framework is used
to collect those tests.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-python_files">
<code class="sig-name descname">python_files</code><a class="headerlink" href="#confval-python_files" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more Glob-style file patterns determining which python files
are considered as test modules. Search for multiple glob patterns by
adding a space between patterns:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_files</span> <span class="o">=</span> <span class="s">test_*.py check_*.py example_*.py</span>
</pre></div>
</div>
<p>Or one per line:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_files</span> <span class="o">=</span><span class="s"></span>
<span class="s">    test_*.py</span>
<span class="s">    check_*.py</span>
<span class="s">    example_*.py</span>
</pre></div>
</div>
<p>By default, files matching <code class="docutils literal notranslate"><span class="pre">test_*.py</span></code> and <code class="docutils literal notranslate"><span class="pre">*_test.py</span></code> will be considered
test modules.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-python_functions">
<code class="sig-name descname">python_functions</code><a class="headerlink" href="#confval-python_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>One or more name prefixes or glob-patterns determining which test functions
and methods are considered tests. Search for multiple glob patterns by
adding a space between patterns. By default, pytest will consider any
function prefixed with <code class="docutils literal notranslate"><span class="pre">test</span></code> as a test.  Here is an example of how
to collect test functions and methods that end in <code class="docutils literal notranslate"><span class="pre">_test</span></code>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">python_functions</span> <span class="o">=</span> <span class="s">*_test</span>
</pre></div>
</div>
<p>Note that this has no effect on methods that live on a <code class="docutils literal notranslate"><span class="pre">unittest</span>
<span class="pre">.TestCase</span></code> derived class, as <code class="docutils literal notranslate"><span class="pre">unittest</span></code>’s own collection framework is used
to collect those tests.</p>
<p>See <a class="reference internal" href="example/pythoncollection.html#change-naming-conventions"><span class="std std-ref">Changing naming conventions</span></a> for more detailed examples.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-testpaths">
<code class="sig-name descname">testpaths</code><a class="headerlink" href="#confval-testpaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets list of directories that should be searched for tests when
no specific directories, files or test ids are given in the command line when
executing pytest from the <a class="reference internal" href="customize.html#rootdir"><span class="std std-ref">rootdir</span></a> directory.
Useful when all project tests are in a known location to speed up
test collection and to avoid picking up undesired tests by accident.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">testpaths</span> <span class="o">=</span> <span class="s">testing doc</span>
</pre></div>
</div>
<p>This tells pytest to only look for tests in <code class="docutils literal notranslate"><span class="pre">testing</span></code> and <code class="docutils literal notranslate"><span class="pre">doc</span></code>
directories when executing from the root directory.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-usefixtures">
<code class="sig-name descname">usefixtures</code><a class="headerlink" href="#confval-usefixtures" title="Permalink to this definition">¶</a></dt>
<dd><p>List of fixtures that will be applied to all test functions; this is semantically the same to apply
the <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.usefixtures</span></code> marker to all test functions.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">usefixtures</span> <span class="o">=</span><span class="s"></span>
<span class="s">    clean_db</span>
</pre></div>
</div>
</dd></dl>

<dl class="confval">
<dt id="confval-xfail_strict">
<code class="sig-name descname">xfail_strict</code><a class="headerlink" href="#confval-xfail_strict" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, tests marked with <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.xfail</span></code> that actually succeed will by default fail the
test suite.
For more information, see <a class="reference internal" href="skipping.html#xfail-strict-tutorial"><span class="std std-ref">strict parameter</span></a>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">xfail_strict</span> <span class="o">=</span> <span class="s">True</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/pytest1.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel"
        placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
  </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="contents.html">Table Of Contents</a></h3>

<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="getting-started.html">Install</a></li>
  <li><a href="contents.html">Contents</a></li>
  <li><a href="#">API Reference</a></li>
  <li><a href="example/index.html">Examples</a></li>
  <li><a href="customize.html">Customize</a></li>
  <li><a href="changelog.html">Changelog</a></li>
  <li><a href="contributing.html">Contributing</a></li>
  <li><a href="backwards-compatibility.html">Backwards Compatibility</a></li>
  <li><a href="py27-py34-deprecation.html">Python 2.7 and 3.4 Support</a></li>
  <li><a href="sponsor.html">Sponsor</a></li>
  <li><a href="license.html">License</a></li>
  <li><a href="contact.html">Contact Channels</a></li>
</ul>
  <hr>
  <ul>
<li><a class="reference internal" href="#">API Reference</a><ul>
<li><a class="reference internal" href="#functions">Functions</a><ul>
<li><a class="reference internal" href="#pytest-approx">pytest.approx</a></li>
<li><a class="reference internal" href="#pytest-fail">pytest.fail</a></li>
<li><a class="reference internal" href="#pytest-skip">pytest.skip</a></li>
<li><a class="reference internal" href="#pytest-importorskip">pytest.importorskip</a></li>
<li><a class="reference internal" href="#pytest-xfail">pytest.xfail</a></li>
<li><a class="reference internal" href="#pytest-exit">pytest.exit</a></li>
<li><a class="reference internal" href="#pytest-main">pytest.main</a></li>
<li><a class="reference internal" href="#pytest-param">pytest.param</a></li>
<li><a class="reference internal" href="#pytest-raises">pytest.raises</a></li>
<li><a class="reference internal" href="#pytest-deprecated-call">pytest.deprecated_call</a></li>
<li><a class="reference internal" href="#pytest-register-assert-rewrite">pytest.register_assert_rewrite</a></li>
<li><a class="reference internal" href="#pytest-warns">pytest.warns</a></li>
<li><a class="reference internal" href="#pytest-freeze-includes">pytest.freeze_includes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#marks">Marks</a><ul>
<li><a class="reference internal" href="#pytest-mark-filterwarnings">pytest.mark.filterwarnings</a></li>
<li><a class="reference internal" href="#pytest-mark-parametrize">pytest.mark.parametrize</a></li>
<li><a class="reference internal" href="#pytest-mark-skip">pytest.mark.skip</a></li>
<li><a class="reference internal" href="#pytest-mark-skipif">pytest.mark.skipif</a></li>
<li><a class="reference internal" href="#pytest-mark-usefixtures">pytest.mark.usefixtures</a></li>
<li><a class="reference internal" href="#pytest-mark-xfail">pytest.mark.xfail</a></li>
<li><a class="reference internal" href="#custom-marks">custom marks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fixtures">Fixtures</a><ul>
<li><a class="reference internal" href="#pytest-fixture">&#64;pytest.fixture</a></li>
<li><a class="reference internal" href="#config-cache">config.cache</a></li>
<li><a class="reference internal" href="#capsys">capsys</a></li>
<li><a class="reference internal" href="#capsysbinary">capsysbinary</a></li>
<li><a class="reference internal" href="#capfd">capfd</a></li>
<li><a class="reference internal" href="#capfdbinary">capfdbinary</a></li>
<li><a class="reference internal" href="#doctest-namespace">doctest_namespace</a></li>
<li><a class="reference internal" href="#request">request</a></li>
<li><a class="reference internal" href="#pytestconfig">pytestconfig</a></li>
<li><a class="reference internal" href="#record-property">record_property</a></li>
<li><a class="reference internal" href="#record-testsuite-property">record_testsuite_property</a></li>
<li><a class="reference internal" href="#caplog">caplog</a></li>
<li><a class="reference internal" href="#monkeypatch">monkeypatch</a></li>
<li><a class="reference internal" href="#testdir">testdir</a></li>
<li><a class="reference internal" href="#recwarn">recwarn</a></li>
<li><a class="reference internal" href="#tmp-path">tmp_path</a></li>
<li><a class="reference internal" href="#tmp-path-factory">tmp_path_factory</a></li>
<li><a class="reference internal" href="#tmpdir">tmpdir</a></li>
<li><a class="reference internal" href="#tmpdir-factory">tmpdir_factory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hooks">Hooks</a><ul>
<li><a class="reference internal" href="#bootstrapping-hooks">Bootstrapping hooks</a></li>
<li><a class="reference internal" href="#initialization-hooks">Initialization hooks</a></li>
<li><a class="reference internal" href="#test-running-hooks">Test running hooks</a></li>
<li><a class="reference internal" href="#collection-hooks">Collection hooks</a></li>
<li><a class="reference internal" href="#reporting-hooks">Reporting hooks</a></li>
<li><a class="reference internal" href="#debugging-interaction-hooks">Debugging/Interaction hooks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#objects">Objects</a><ul>
<li><a class="reference internal" href="#callinfo">CallInfo</a></li>
<li><a class="reference internal" href="#class">Class</a></li>
<li><a class="reference internal" href="#collector">Collector</a></li>
<li><a class="reference internal" href="#config">Config</a></li>
<li><a class="reference internal" href="#exceptioninfo">ExceptionInfo</a></li>
<li><a class="reference internal" href="#pytest-exitcode">pytest.ExitCode</a></li>
<li><a class="reference internal" href="#fixturedef">FixtureDef</a></li>
<li><a class="reference internal" href="#fscollector">FSCollector</a></li>
<li><a class="reference internal" href="#function">Function</a></li>
<li><a class="reference internal" href="#item">Item</a></li>
<li><a class="reference internal" href="#markdecorator">MarkDecorator</a></li>
<li><a class="reference internal" href="#markgenerator">MarkGenerator</a></li>
<li><a class="reference internal" href="#mark">Mark</a></li>
<li><a class="reference internal" href="#metafunc">Metafunc</a></li>
<li><a class="reference internal" href="#module">Module</a></li>
<li><a class="reference internal" href="#node">Node</a></li>
<li><a class="reference internal" href="#parser">Parser</a></li>
<li><a class="reference internal" href="#pluginmanager">PluginManager</a></li>
<li><a class="reference internal" href="#pytestpluginmanager">PytestPluginManager</a></li>
<li><a class="reference internal" href="#session">Session</a></li>
<li><a class="reference internal" href="#testreport">TestReport</a></li>
<li><a class="reference internal" href="#result">_Result</a></li>
</ul>
</li>
<li><a class="reference internal" href="#special-variables">Special Variables</a><ul>
<li><a class="reference internal" href="#collect-ignore">collect_ignore</a></li>
<li><a class="reference internal" href="#collect-ignore-glob">collect_ignore_glob</a></li>
<li><a class="reference internal" href="#pytest-plugins">pytest_plugins</a></li>
<li><a class="reference internal" href="#pytest-mark">pytest_mark</a></li>
<li><a class="reference internal" href="#pytest-dont-rewrite-module-docstring">PYTEST_DONT_REWRITE (module docstring)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a><ul>
<li><a class="reference internal" href="#pytest-addopts">PYTEST_ADDOPTS</a></li>
<li><a class="reference internal" href="#pytest-debug">PYTEST_DEBUG</a></li>
<li><a class="reference internal" href="#id9">PYTEST_PLUGINS</a></li>
<li><a class="reference internal" href="#pytest-disable-plugin-autoload">PYTEST_DISABLE_PLUGIN_AUTOLOAD</a></li>
<li><a class="reference internal" href="#pytest-current-test">PYTEST_CURRENT_TEST</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li><a class="reference internal" href="#usageerror">UsageError</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-options">Configuration Options</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="contents.html">Documentation overview</a><ul>
      <li>Previous: <a href="logging.html" title="previous chapter">Logging</a></li>
      <li>Next: <a href="goodpractices.html" title="next chapter">Good Integration Practices</a></li>
  </ul></li>
</ul><h3>Useful Links</h3>
<ul>
  <li><a href="https://pypi.org/project/pytest/">pytest @ PyPI</a></li>
  <li><a href="https://github.com/pytest-dev/pytest/">pytest @ GitHub</a></li>
  <li><a href="http://plugincompat.herokuapp.com/">3rd party plugins</a></li>
  <li><a href="https://github.com/pytest-dev/pytest/issues">Issue Tracker</a></li>
  <li><a href="https://media.readthedocs.org/pdf/pytest/latest/pytest.pdf">PDF Documentation</a>
</ul>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

  <div class="footer">
    &copy; Copyright 2015–2019, holger krekel and pytest-dev team.
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 2.1.2.
  </div>
  
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-7597274-13']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>